| **Inicio**         | **Siguiente 2**                                                           |
| ------------------ | ------------------------------------------------------------------------- |
| [üè†](../README.md) | [‚è©](./4_2_Investigacion_de_fuentes_abiertas_OSINT_con_Python_Hacking.md) |

---

## **√çndice**

| Temario                                                                                                                                          |
| ------------------------------------------------------------------------------------------------------------------------------------------------ |
| [152. Entornos virtuales en Python](#152-entornos-virtuales-en-python)                                                                           |
| [153. Hacking con buscadores con Python](#153-hacking-con-buscadores-con-python)                                                                 |
| [154. Operadores y keywords Google Hacking](#154-operadores-y-keywords-google-hacking)                                                           |
| [155. DuckDuckGo Hacking](#155-duckduckgo-hacking)                                                                                               |
| [156. Ejecuci√≥n de scripts en Python](#156-ejecuci√≥n-de-scripts-en-python)                                                                       |
| [157. Argumentos en l√≠nea de comandos: Argparse](#157-argumentos-en-l√≠nea-de-comandos-argparse)                                                  |
| [158. Generaci√≥n de resultados: JSON, HTML, Consola](#158-generaci√≥n-de-resultados-json-html-consola)                                            |
| [159. Manejo de ficheros: Descarga, Lectura y Escritura](#159-manejo-de-ficheros-descarga-lectura-y-escritura)                                   |
| [160. Inteligencia Artificial aplicada a Hacking √âtico y Ciberseguridad](#160-inteligencia-artificial-aplicada-a-hacking-√©tico-y-ciberseguridad) |
| [161. Potenciando los Dorks con Inteligencia Artificial](#161-potenciando-los-dorks-con-inteligencia-artificial)                                 |
| [162. OpenAI, GPT-4 y ChatGPT-4](#162-openai-gpt-4-y-chatgpt-4)                                                                                  |
| [163. Potenciando los Dorks con GPT-4](#163-potenciando-los-dorks-con-gpt-4)                                                                     |
| [164. Google Hacking con Inteligencia Artificial](#164-google-hacking-con-inteligencia-artificial)                                               |
| [165. Filtrado de informaci√≥n con Expresiones Regulares](#165-filtrado-de-informaci√≥n-con-expresiones-regulares)                                 |
| [166. Filtrado de informaci√≥n con Inteligencia Artificial](#166-filtrado-de-informaci√≥n-con-inteligencia-artificial)                             |
| [167. Integra SmartSearch con NinjaDork](#167-integra-smartsearch-con-ninjadork)                                                                 |
| [168. Emulando el comportamiento humano con Selenium](#168-emulando-el-comportamiento-humano-con-selenium)                                       |
| [169. Hacking con buscadores autom√°tico con Selenium](#169-hacking-con-buscadores-autom√°tico-con-selenium)                                       |

---

# **Primer Proyecto de Python Hacking: Google Hacking, IA y Automatizacion**

## **152. Entornos virtuales en Python**

### ¬øQu√© es un entorno virtual en Python?

Un **entorno virtual (virtual environment)** es un espacio aislado en tu computadora donde puedes instalar **versiones espec√≠ficas de Python y paquetes** (librer√≠as) sin afectar el resto del sistema.

En otras palabras, puedes tener muchos proyectos en tu PC y **cada uno con sus propias dependencias** sin que se mezclen o entren en conflicto.

‚úÖ **Ejemplo de problema sin entornos virtuales:**

- Proyecto A necesita **Django 3.2**
- Proyecto B necesita **Django 4.2**

Si solo tienes un Python global, no puedes tener **dos versiones de Django** instaladas al mismo tiempo sin romper algo.

‚úÖ **Soluci√≥n con entornos virtuales:**

- Proyecto A ‚ûú entorno virtual con Django 3.2
- Proyecto B ‚ûú entorno virtual con Django 4.2

Cada entorno virtual es como una "burbuja" separada.

---

### Ventajas de usar entornos virtuales

‚≠ê Evitar conflictos de dependencias.

‚≠ê Organizar proyectos de forma m√°s limpia.

‚≠ê Reproducir f√°cilmente el entorno en otra m√°quina (usando requirements.txt).

---

### Herramientas para entornos virtuales en Python

Hay varias formas, pero la m√°s com√∫n y sencilla es **venv**, que viene con Python 3.3+.

Otras opciones m√°s avanzadas:

- virtualenv
- conda (para ciencia de datos)
- pipenv
- poetry

Pero aqu√≠ nos centraremos en **venv**, porque es oficial y no necesitas instalar nada extra.

---

### ¬øC√≥mo instalar y usar entornos virtuales con `venv`?

#### ‚úÖ Prerequisito

- Tener Python 3.3 o superior instalado.

Verifica con:

```bash
python --version
```

o

```bash
python3 --version
```

---

#### ‚úÖ Paso 1: Crear el entorno virtual

Supongamos que est√°s en la carpeta de tu proyecto.

**Comando:**

```bash
python -m venv nombre_del_entorno
```

‚úÖ Ejemplo pr√°ctico:

```bash
python -m venv venv
```

Aqu√≠ `venv` es el nombre del entorno (puedes llamarlo como quieras: env, .venv, myenv, etc.).

---

‚úÖ Resultado:

Se crea una carpeta llamada `venv/` con:

```
venv/
  bin/ (Linux/Mac) o Scripts/ (Windows)
  lib/
  pyvenv.cfg
```

Todo lo necesario para aislar las dependencias.

---

#### ‚úÖ Paso 2: Activar el entorno virtual

Dependiendo del sistema operativo:

‚≠ê En **Windows** (PowerShell):

```powershell
.\venv\Scripts\Activate
```

‚≠ê En **Windows** (CMD):

```cmd
venv\Scripts\activate.bat
```

‚≠ê En **Linux/Mac**:

```bash
source venv/bin/activate
```

‚úÖ Resultado:

El prompt de tu terminal cambia:

```
(venv) $
```

Eso indica que **el entorno est√° activado**. Todas las instalaciones con `pip` ir√°n solo a ese entorno.

---

#### ‚úÖ Paso 3: Instalar paquetes en el entorno

Cuando el entorno est√° activado:

```bash
pip install requests
```

‚úÖ Verificaci√≥n:

```bash
pip list
```

Solo ver√°s los paquetes instalados **en el entorno**.

---

#### ‚úÖ Paso 4: Desactivar el entorno

Para volver al Python global:

```bash
deactivate
```

El prompt vuelve a normal.

---

### Ejemplo pr√°ctico completo

Te dejo un ejemplo paso a paso como si lo escribieras en la terminal:

```bash
# 1. Crear carpeta del proyecto
mkdir mi_proyecto
cd mi_proyecto

# 2. Crear entorno virtual
python -m venv venv

# 3. Activar el entorno (Linux/Mac)
source venv/bin/activate

# o en Windows PowerShell
.\venv\Scripts\Activate

# 4. Instalar paquetes
pip install flask

# 5. Ver paquetes instalados
pip list

# 6. Desactivar el entorno
deactivate
```

---

### Compartir dependencias (opcional)

Para guardar las dependencias en un archivo:

```bash
pip freeze > requirements.txt
```

Contenido de ejemplo de **requirements.txt**:

```
Flask==2.2.5
requests==2.31.0
```

En otra m√°quina o entorno, puedes recrearlo con:

```bash
pip install -r requirements.txt
```

---

### Resumen

‚úÖ `python -m venv nombre` ‚ûú crea un entorno virtual

‚úÖ Activar ‚ûú usar source (Linux/Mac) o .\ (Windows)

‚úÖ Instalar ‚ûú pip install

‚úÖ Desactivar ‚ûú deactivate

‚úÖ Compartir ‚ûú pip freeze > requirements.txt

---

### BONUS: Buenas pr√°cticas

‚≠ê N√≥mbralo `.venv` para que editores como VSCode lo detecten.

‚≠ê A√±ade `venv/` o `.venv/` al archivo `.gitignore` para no subirlo a Git.

---

[üîº](#√≠ndice)

---

## **153. Hacking con buscadores con Python**

### ‚úÖ ¬øQu√© es el "hacking con buscadores"?

Es el **uso avanzado de buscadores** (Google, Bing, DuckDuckGo, etc.) para encontrar informaci√≥n sensible o interesante que est√° _p√∫blicamente indexada_, pero que normalmente no deber√≠a ser tan f√°cil de descubrir.

‚úÖ Ejemplos de lo que se puede encontrar:

- P√°ginas de login de administradores.
- Archivos de configuraci√≥n expuestos (.env, .git).
- C√°maras web sin seguridad.
- Documentos confidenciales indexados.

---

### ‚úÖ ¬øC√≥mo funciona? (explicaci√≥n sencilla)

Los buscadores indexan TODO lo que encuentran si no est√° protegido. Usando operadores especiales de b√∫squeda (llamados **Google Dorks**) puedes filtrar resultados para cosas muy espec√≠ficas.

‚úÖ Operadores b√°sicos:

- **site:** ‚Üí Limita a un dominio

  - `site:example.com`

- **filetype:** ‚Üí Busca tipo de archivo

  - `filetype:pdf`

- **inurl:** ‚Üí Cadena en la URL

  - `inurl:admin`

- **intitle:** ‚Üí Cadena en el t√≠tulo de la p√°gina

  - `intitle:"login"`

‚úÖ Ejemplo manual:

```
site:example.com inurl:admin
```

‚Üí Busca p√°ginas en _example.com_ que tengan _admin_ en la URL.

---

### ‚úÖ Aplicaciones (legales y √©ticas)

‚ö†Ô∏è MUY IMPORTANTE: El "hacking con buscadores" **no es ilegal en s√≠ mismo** porque se basa en informaci√≥n p√∫blica, pero usarlo para vulnerar sistemas o extraer datos sensibles sin permiso **s√≠ puede ser ilegal**.

‚úÖ Usos legales:

- Auditor√≠as de seguridad (pentesting con permiso).
- Reconocimiento en bug bounties.
- Investigaci√≥n OSINT.
- Verificar si tu propia web expone datos sensibles.

---

### ‚úÖ ¬øC√≥mo se hace a mano?

Supongamos que queremos encontrar documentos PDF sobre finanzas en un sitio:

```
site:example.com filetype:pdf finanzas
```

O p√°ginas de login expuestas:

```
intitle:"login" inurl:admin
```

---

### ‚úÖ ¬øC√≥mo se hace con Python? (Automatizaci√≥n)

Ahora, vamos a lo interesante: **automatizarlo con Python.**

Los buscadores no quieren que los "scrapees" masivamente. Google, por ejemplo, te bloquear√° o te pondr√° CAPTCHAs. Pero puedes hacerlo de forma sencilla, respetuosa y limitada para experimentaci√≥n o auditor√≠a.

Hay varias formas:

‚úÖ Usar **Google Search API oficial (limitada, de pago)**

‚úÖ Usar **librer√≠as de scraping (con precauci√≥n)**

‚úÖ Usar **librer√≠as para b√∫squeda "no oficial"** (como `googlesearch-python`)

Te voy a explicar **la forma m√°s sencilla** para aprender:

---

### ‚úÖ Instalaci√≥n de la herramienta en Python

Vamos a usar [`googlesearch-python`](https://pypi.org/project/googlesearch-python/), una librer√≠a f√°cil de instalar y usar.

#### ‚úÖ Instalaci√≥n

Abre la terminal y escribe:

```
pip install googlesearch-python
```

Eso descargar√° e instalar√° la librer√≠a.

---

### ‚úÖ Ejemplo pr√°ctico paso a paso

### **Escenario:**

Queremos automatizar la b√∫squeda de paneles de administraci√≥n en un dominio espec√≠fico.

‚úÖ Manualmente har√≠amos:

```
site:example.com inurl:admin
```

‚úÖ Con Python:

```python
from googlesearch import search

query = 'site:example.com inurl:admin'

for result in search(query, num_results=10):
    print(result)
```

**Explicaci√≥n del c√≥digo:**

- Importamos `search` de la librer√≠a.
- Definimos la consulta (puede ser cualquier dork).
- Iteramos sobre los primeros 10 resultados.
- Imprimimos las URLs.

---

### ‚úÖ Otro ejemplo pr√°ctico

‚úÖ Buscar archivos PDF p√∫blicos en todo internet sobre "contratos":

```python
from googlesearch import search

query = 'filetype:pdf contratos'

for url in search(query, num_results=5):
    print(url)
```

‚úÖ Resultado esperado (ejemplo):

```
https://example.com/contratos2023.pdf
https://otherdomain.com/documentos/contrato.pdf
...
```

---

### ‚úÖ Mejoras y variaciones

‚úÖ Cambiar la cantidad de resultados:

```python
for url in search(query, num_results=20):
    print(url)
```

‚úÖ Probar otros operadores:

- `intitle:"index of"`
- `inurl:login`
- `filetype:env`
- `site:*.gov confidential`

‚úÖ Uso avanzado (concatenar m√∫ltiples dorks):

```python
query = 'site:example.com inurl:admin intitle:"login"'
```

---

### ‚úÖ Limitaciones importantes

‚ö†Ô∏è Google bloquea el scraping excesivo.

‚ö†Ô∏è Respeta el "robots.txt" y las pol√≠ticas de uso.

‚ö†Ô∏è Solo √∫salo con fines educativos o de auditor√≠a autorizada.

‚úÖ Alternativas:

- Bing Search API
- DuckDuckGo API (no oficial)
- Scraping con Selenium (m√°s complejo)

---

### ‚úÖ Resumen ultra corto

‚úÖ Hacking con buscadores = usar operadores de b√∫squeda avanzados.

‚úÖ Sirve para encontrar info sensible indexada.

‚úÖ Manual: usar Google con dorks.

‚úÖ Con Python:

1. `pip install googlesearch-python`
2. Importar `search`
3. Definir tu consulta
4. Iterar resultados.

---

### ‚úÖ BONUS: Plantilla de script gen√©rico

Te dejo un **script m√°s completo**:

```python
from googlesearch import search

def google_dork_scan(query, limit=10):
    print(f"Realizando b√∫squeda: {query}")
    results = search(query, num_results=limit)
    for i, url in enumerate(results, start=1):
        print(f"{i}. {url}")

if __name__ == "__main__":
    dork = input("Ingresa tu Google Dork: ")
    google_dork_scan(dork, limit=10)
```

‚úÖ Ejecuci√≥n ejemplo:

```
Ingresa tu Google Dork: site:example.com inurl:admin
```

‚úÖ Salida:

```
1. https://example.com/admin/login
2. https://example.com/admin/dashboard
...
```

---

### ‚úÖ Conclusi√≥n

**Hacking con buscadores** es una t√©cnica OSINT poderosa.

- Manual: usa operadores de Google.
- Python: automatiza tus b√∫squedas.
- Siempre usa con responsabilidad.

---

[üîº](#√≠ndice)

---

## **154. Operadores y keywords Google Hacking**

### ‚úÖ ¬øQu√© es Google Hacking?

**Google Hacking** (tambi√©n llamado **Google Dorking**) es el uso avanzado del buscador de Google (o de otros buscadores) para **encontrar informaci√≥n sensible o espec√≠fica** usando ciertos comandos especiales llamados **operadores**.

Google indexa millones de p√°ginas, y con b√∫squedas comunes s√≥lo ves lo m√°s relevante.
Pero con **operadores** puedes filtrar resultados y encontrar cosas muy espec√≠ficas.

---

### ‚úÖ ¬øQu√© son operadores y keywords en Google Hacking?

‚úÖ **Operadores:** son comandos especiales que le dices a Google para filtrar tu b√∫squeda.

‚úÖ **Keywords:** son las palabras clave que acompa√±an los operadores para afinar la b√∫squeda.

üëâ Son como trucos o atajos para hacer **b√∫squedas m√°s potentes**.

---

### ‚úÖ ¬øPara qu√© sirven?

‚úÖ Encontrar informaci√≥n p√∫blica pero "olvidada":

- Formularios de login
- Archivos confidenciales
- Backups
- Bases de datos expuestas
- C√°maras web
- Documentos sensibles

‚úÖ Usos √©ticos:

- Auditor√≠as de seguridad (pentesting)
- OSINT (inteligencia de fuentes abiertas)
- Bug bounty

‚úÖ Usos maliciosos (¬°prohibidos!):

- Acceder a datos sin permiso

---

### ‚úÖ ¬øSe instalan?

‚ùå ¬°NO! No necesitas instalar nada.

‚úîÔ∏è Solo necesitas **un navegador y Google**.

‚úîÔ∏è Opcionalmente puedes automatizar con Python (te lo puedo ense√±ar si quieres).

---

### ‚úÖ Principales operadores con ejemplos f√°ciles

Te dejo **los m√°s usados**, s√∫per claros y con ejemplos reales (c√°mbialos por el sitio que quieras):

---

#### ‚≠ê 1. `site:`

‚úÖ Restringe los resultados a un sitio o dominio espec√≠fico.

**Ejemplo:**

```
site:example.com
```

üîé ‚Üí Muestra solo resultados de _example.com_.

‚úÖ Otro ejemplo:

```
site:*.gov
```

üîé ‚Üí Resultados de cualquier sitio .gov.

---

#### ‚≠ê 2. `inurl:`

‚úÖ Busca palabras en la URL.

**Ejemplo:**

```
inurl:admin
```

üîé ‚Üí Encuentra URLs con "admin".

‚úÖ Combinado:

```
site:example.com inurl:login
```

üîé ‚Üí Encuentra p√°ginas de login en _example.com_.

---

#### ‚≠ê 3. `intitle:`

‚úÖ Busca palabras en el **t√≠tulo** de la p√°gina.

**Ejemplo:**

```
intitle:"index of"
```

üîé ‚Üí Encuentra directorios abiertos.

‚úÖ Otro ejemplo:

```
intitle:"login"
```

üîé ‚Üí Encuentra p√°ginas de inicio de sesi√≥n.

---

#### ‚≠ê 4. `filetype:`

‚úÖ Busca archivos de un tipo espec√≠fico.

**Ejemplo:**

```
filetype:pdf
```

üîé ‚Üí Solo PDFs.

‚úÖ Combinado:

```
filetype:pdf site:example.com
```

üîé ‚Üí Solo PDFs en _example.com_.

‚úÖ Otro:

```
filetype:xls password
```

üîé ‚Üí Hojas de Excel que pueden contener la palabra "password".

---

#### ‚≠ê 5. `intext:`

‚úÖ Busca palabras en el contenido de la p√°gina.

**Ejemplo:**

```
intext:"confidential"
```

üîé ‚Üí Encuentra p√°ginas con "confidential" en el texto.

---

#### ‚≠ê 6. `cache:`

‚úÖ Muestra la versi√≥n en cach√© de una p√°gina.

**Ejemplo:**

```
cache:example.com
```

üîé ‚Üí La versi√≥n guardada en Google.

---

#### ‚≠ê 7. `-`

‚úÖ Excluye palabras.

**Ejemplo:**

```
login -facebook
```

üîé ‚Üí Resultados con "login" pero que NO tengan "facebook".

---

#### ‚≠ê 8. `OR`

‚úÖ Busca una cosa u otra.

**Ejemplo:**

```
admin OR login
```

üîé ‚Üí Resultados que tengan "admin" o "login".

---

#### ‚≠ê 9. `" "`

‚úÖ Busca frase exacta.

**Ejemplo:**

```
"index of /backup"
```

üîé ‚Üí Exactamente esa frase.

---

#### ‚≠ê 10. `*`

‚úÖ Comod√≠n (cualquier palabra).

**Ejemplo:**

```
"index of * backup"
```

üîé ‚Üí Coincide con cualquier palabra entre "index of" y "backup".

---

#### ‚úÖ Ejemplos reales de Google Dorks

Aqu√≠ tienes ejemplos completos (¬°para practicar!):

‚úÖ Buscar p√°ginas de login:

```
inurl:admin intitle:login
```

‚úÖ Buscar directorios abiertos:

```
intitle:"index of" "backup"
```

‚úÖ Buscar archivos de contrase√±as:

```
filetype:txt intext:password
```

‚úÖ Buscar c√°maras web p√∫blicas:

```
inurl:view/view.shtml
```

‚úÖ Buscar documentos confidenciales:

```
site:*.gov filetype:pdf confidential
```

‚úÖ Buscar bases de datos expuestas:

```
intitle:"index of" "db.sql"
```

---

### ‚úÖ No necesitas instalar nada, pero puedes usar Python (opcional)

Para usar estos operadores en Python puedes instalar una librer√≠a:

```
pip install googlesearch-python
```

‚úÖ C√≥digo s√∫per f√°cil:

```python
from googlesearch import search

query = 'site:example.com inurl:admin'
for url in search(query, num_results=5):
    print(url)
```

‚úÖ Resultado:

```
https://example.com/admin/login
https://example.com/admin/dashboard
...
```

---

### ‚úÖ ¬øEs ilegal?

‚ùå Usar Google con operadores no es ilegal (la informaci√≥n es p√∫blica).

‚ö†Ô∏è Lo ilegal es acceder sin permiso a datos sensibles o vulnerar sistemas.

‚úÖ √ösalo solo para auditor√≠a autorizada, investigaci√≥n o aprendizaje.

---

### ‚úÖ Resumen r√°pido

‚úÖ **Operadores** = comandos especiales para filtrar b√∫squedas.

‚úÖ **Keywords** = palabras clave que usas con los operadores.

‚úÖ No necesitas instalar nada, solo Google.

‚úÖ Ejemplos √∫tiles:

- `site:`
- `inurl:`
- `intitle:`
- `filetype:`
- `intext:`

  ‚úÖ Puedes combinarlos para b√∫squedas m√°s potentes.

---

### ‚úÖ Tabla de operadores (para tu chuleta)

| Operador  | Qu√© hace                        | Ejemplo              |
| --------- | ------------------------------- | -------------------- |
| site:     | Limita a un dominio             | site\:example.com    |
| inurl:    | Busca en la URL                 | inurl\:admin         |
| intitle:  | Busca en el t√≠tulo de la p√°gina | intitle:"index of"   |
| filetype: | Tipo de archivo                 | filetype\:pdf        |
| intext:   | Palabra en el contenido         | intext\:password     |
| cache:    | Muestra versi√≥n en cach√©        | cache\:example.com   |
| -         | Excluye palabras                | login -facebook      |
| OR        | Una cosa u otra                 | admin OR login       |
| " "       | Frase exacta                    | "index of /backup"   |
| \*        | Comod√≠n                         | "index of \* backup" |

---

### ‚úÖ Pr√°ctica sugerida

‚úÖ Prueba en Google:

```
site:edu filetype:pdf cybersecurity
```

‚Üí PDFs sobre ciberseguridad en sitios .edu.

‚úÖ Otro:

```
intitle:"index of" "admin"
```

‚Üí Directorios abiertos que contengan "admin".

---

### ‚úÖ Conclusi√≥n

‚≠ê Google Hacking = usar operadores para b√∫squedas avanzadas.

‚≠ê √ötil en auditor√≠as, OSINT, bug bounty.

‚≠ê 100% legal si lo usas responsablemente.

‚≠ê No necesitas instalar nada.

‚≠ê Puedes automatizar con Python si quieres.

---

[üîº](#√≠ndice)

---

## **155. DuckDuckGo Hacking**

### ‚úÖ ¬øQu√© es ‚ÄúDuckDuckGo Hacking‚Äù?

**DuckDuckGo Hacking** (o ‚ÄúDuckDuckGo Dorking‚Äù) es el uso avanzado del buscador **DuckDuckGo** para encontrar informaci√≥n p√∫blica pero ‚Äúoculta a simple vista‚Äù, usando operadores especiales.

Es muy parecido al **Google Hacking / Google Dorking**, pero en **DuckDuckGo**.

‚úÖ DuckDuckGo **no guarda historial**, **no personaliza resultados**, **no tiene captchas agresivos**.

‚úÖ A menudo muestra **resultados distintos** de Google.

---

### ‚úÖ ¬øPara qu√© sirve?

‚úÖ Encontrar informaci√≥n p√∫blica o mal configurada:

- P√°ginas de login.
- Backups abiertos.
- Archivos de configuraci√≥n.
- Bases de datos expuestas.
- Directorios listados.
- Documentos confidenciales indexados.

‚úÖ Usos √©ticos:

- Auditor√≠as de seguridad (pentesting con permiso).
- OSINT (Open Source Intelligence).
- Bug bounty.

‚úÖ ‚ö†Ô∏è **ATENCI√ìN:**

Usar estos m√©todos para acceder o explotar sistemas sin permiso **es ilegal**.

---

### ‚úÖ ¬øCu√°l es la diferencia con Google?

‚úîÔ∏è DuckDuckGo **soporta la mayor√≠a de los mismos operadores** que Google.

‚úîÔ∏è Pero DuckDuckGo **no siempre bloquea ni limita tanto**.

‚úîÔ∏è Muestra **resultados diferentes** porque usa otras fuentes (no solo Google).

‚úîÔ∏è **No necesitas cuenta** ni historial.

---

### ‚úÖ ¬øQu√© se ‚Äúinstala‚Äù?

‚ùå No se instala nada para usarlo en el navegador:

‚úÖ Solo necesitas **abrir [DuckDuckGo](https://duckduckgo.com/)**.

‚úîÔ∏è Si quieres **automatizar con Python**, te explico m√°s abajo c√≥mo **instalar** una librer√≠a.

---

### ‚úÖ Principales operadores de DuckDuckGo

DuckDuckGo soporta **operadores de b√∫squeda avanzados**, igual que Google.

Aqu√≠ te dejo **explicados uno por uno con ejemplos MUY claros.**

---

#### ‚≠ê 1. `site:`

‚úÖ Limita la b√∫squeda a un dominio.

**Ejemplo:**

```
site:example.com
```

üîé Solo resultados de _example.com_.

---

#### ‚≠ê 2. `inurl:`

‚úÖ Busca una palabra en la URL.

**Ejemplo:**

```
inurl:admin
```

üîé Encuentra URLs que contengan "admin".

‚úÖ Combinado:

```
site:example.com inurl:login
```

‚Üí Login pages en _example.com_.

---

#### ‚≠ê 3. `intitle:`

‚úÖ Busca en el t√≠tulo de la p√°gina.

**Ejemplo:**

```
intitle:"index of"
```

üîé Directorios abiertos.

---

#### ‚≠ê 4. `filetype:`

‚úÖ Restringe por tipo de archivo.

**Ejemplo:**

```
filetype:pdf
```

‚Üí Solo PDFs.

‚úÖ Combinado:

```
site:example.com filetype:pdf
```

‚Üí PDFs en _example.com_.

---

#### ‚≠ê 5. `-`

‚úÖ Excluye t√©rminos.

**Ejemplo:**

```
login -facebook
```

‚Üí Login pero excluyendo Facebook.

---

#### ‚≠ê 6. `" "`

‚úÖ B√∫squeda exacta.

**Ejemplo:**

```
"index of /backup"
```

‚Üí Solo resultados exactos.

---

#### ‚≠ê 7. `OR`

‚úÖ Busca una cosa o la otra.

**Ejemplo:**

```
admin OR login
```

‚Üí Resultados con "admin" o "login".

---

#### ‚≠ê 8. `*`

‚úÖ Comod√≠n (palabra cualquiera).

**Ejemplo:**

```
"index of * backup"
```

‚Üí Coincide con cualquier palabra entre "index of" y "backup".

---

### ‚úÖ Ejemplos pr√°cticos paso a paso

Aqu√≠ te dejo **busquedas reales** que puedes copiar y pegar en DuckDuckGo:

---

‚úÖ 1. Encontrar paneles de administraci√≥n en un sitio

```
site:example.com inurl:admin
```

üîé Encuentra p√°ginas con "admin" en la URL en _example.com_.

---

‚úÖ 2. Buscar directorios abiertos

```
intitle:"index of" "backup"
```

üîé Encuentra directorios con backups expuestos.

---

‚úÖ 3. Encontrar documentos confidenciales

```
filetype:pdf confidential
```

üîé PDFs que contengan "confidential".

---

‚úÖ 4. Buscar contrase√±as en archivos de texto

```
filetype:txt password
```

üîé Archivos .txt con la palabra "password".

---

‚úÖ 5. Encontrar c√°maras web p√∫blicas

```
inurl:view/view.shtml
```

üîé P√°ginas con c√°maras IP sin contrase√±a.

---

‚úÖ 6. Buscar archivos SQL expuestos

```
intitle:"index of" "db.sql"
```

üîé Directorios con bases de datos SQL expuestas.

---

### ‚úÖ BONUS: Combinaciones potentes

‚úÖ Directorios con backups

```
intitle:"index of" (backup OR .bak OR .zip)
```

‚úÖ Archivos de configuraci√≥n

```
filetype:env DB_PASSWORD
```

‚úÖ Datos de empleados en PDF

```
site:*.gov filetype:pdf employees
```

‚úÖ Contrase√±as en Excel

```
filetype:xls password
```

‚úÖ Backups en S3

```
site:s3.amazonaws.com backup
```

---

### ‚úÖ Limitaciones y diferencias con Google

‚úîÔ∏è DuckDuckGo NO te pide CAPTCHA tan seguido.

‚úîÔ∏è No guarda tu historial.

‚úîÔ∏è No tiene tantas restricciones de pa√≠s.

‚ùóÔ∏è Algunas b√∫squedas avanzadas no son id√©nticas a Google (no soporta todos los operadores complejos).

---

### ‚úÖ ¬øC√≥mo "instalar" DuckDuckGo Hacking en Python?

Ahora, si quieres **automatizar** tus b√∫squedas con Python, necesitas **instalar una librer√≠a** para hacer b√∫squedas web.

DuckDuckGo **no tiene una API oficial gratuita para b√∫squedas web gen√©ricas**, pero hay librer√≠as no oficiales como [`duckduckgo-search`](https://pypi.org/project/duckduckgo-search/).

---

#### ‚úÖ Instalaci√≥n en tu terminal

```
pip install duckduckgo-search
```

---

#### ‚úÖ Ejemplo s√∫per f√°cil en Python

```python
from duckduckgo_search import DDGS

query = 'site:example.com inurl:admin'

with DDGS() as ddgs:
    for r in ddgs.text(query, max_results=5):
        print(r['href'])
```

‚úÖ Resultado esperado:

```
https://example.com/admin/login
https://example.com/admin/dashboard
...
```

---

#### ‚úÖ Otro ejemplo: buscar backups p√∫blicos

```python
from duckduckgo_search import DDGS

query = 'intitle:"index of" "backup"'

with DDGS() as ddgs:
    for r in ddgs.text(query, max_results=5):
        print(r['href'])
```

‚úÖ Resultado esperado:

```
http://somesite.com/backup/
http://othersite.com/files/backup.zip
...
```

---

### ‚úÖ Tabla de operadores para DuckDuckGo

| Operador  | Qu√© hace                  | Ejemplo              |
| --------- | ------------------------- | -------------------- |
| site:     | Limita a un dominio       | site\:example.com    |
| inurl:    | Busca en la URL           | inurl\:admin         |
| intitle:  | Busca en el t√≠tulo        | intitle:"index of"   |
| filetype: | Busca por tipo de archivo | filetype\:pdf        |
| -         | Excluye t√©rminos          | login -facebook      |
| " "       | B√∫squeda exacta           | "index of /backup"   |
| OR        | Una cosa u otra           | admin OR login       |
| \*        | Comod√≠n                   | "index of \* backup" |

---

### ‚úÖ Resumen r√°pido

‚úÖ DuckDuckGo Hacking = usar operadores de b√∫squeda avanzados en DuckDuckGo.

‚úÖ No necesitas instalar nada para usarlo en el navegador.

‚úÖ Puedes automatizarlo con Python instalando:

```
pip install duckduckgo-search
```

‚úÖ Usa operadores como:

- `site:`
- `inurl:`
- `intitle:`
- `filetype:`
- `-`, `OR`, `" "`, `*`

‚úÖ ‚ö†Ô∏è √ösalo solo con fines √©ticos.

---

### ‚úÖ ¬øPara qu√© sirve realmente?

‚≠ê Pentesters y equipos de seguridad: verificar informaci√≥n expuesta.

‚≠ê Periodistas o investigadores OSINT: encontrar datos p√∫blicos.

‚≠ê Bug bounty hunters: hallar vulnerabilidades no intencionadas.

‚≠ê Due√±os de sitios: verificar su propia exposici√≥n.

---

[üîº](#√≠ndice)

---

## **156. Ejecuci√≥n de scripts en Python**

### ‚úÖ ¬øQu√© es un "script" en Python?

**Un script en Python** es simplemente un **archivo de texto** que contiene **c√≥digo Python**.

Se guarda con la extensi√≥n `.py`.

‚úÖ Puedes pensar en √©l como una receta de instrucciones que Python lee y ejecuta l√≠nea por l√≠nea.

---

‚úÖ **Ejemplo s√∫per sencillo de un script:**

Supongamos que escribes esto en un archivo de texto:

```python
print("Hola mundo")
```

Si guardas eso como `hola.py`, ¬°ese ya es un script en Python!

Cuando lo ejecutes, imprimir√°:

```
Hola mundo
```

---

### ‚úÖ ¬øPara qu√© sirve un script?

‚≠ê Automatizar tareas.

‚≠ê Procesar datos.

‚≠ê Crear aplicaciones web.

‚≠ê Hacer scraping.

‚≠ê Hacer c√°lculos cient√≠ficos.

‚≠ê Casi cualquier cosa que puedas imaginar en programaci√≥n.

---

### ‚úÖ ¬øC√≥mo escribir un script en Python?

#### ‚úÖ Paso 1: Instalar Python

Antes de ejecutar scripts, **debes tener Python instalado**.

---

##### üîπ Verificar si ya tienes Python

‚úÖ Abre la terminal o CMD:

```
python --version
```

o

```
python3 --version
```

‚úÖ Ejemplo de salida:

```
Python 3.10.12
```

Si aparece algo as√≠, **ya lo tienes instalado**.

---

##### üîπ Si NO tienes Python

‚úÖ Ve a [https://www.python.org/downloads/](https://www.python.org/downloads/)

‚úÖ Descarga el instalador para tu sistema (Windows, Mac, Linux).

‚úÖ En Windows, aseg√∫rate de marcar **"Add Python to PATH"** al instalar.

---

#### ‚úÖ Paso 2: Crear el archivo de script

‚úÖ Abre un editor de texto:

- Bloc de notas (Windows)
- VSCode
- Sublime
- Nano (Linux)
- Cualquiera

‚úÖ Escribe el c√≥digo:

```python
print("Hola mundo desde mi script")
```

‚úÖ Gu√°rdalo como:

```
hola.py
```

‚úÖ Ahora tienes tu primer **script**.

---

### ‚úÖ ¬øC√≥mo se ejecuta un script en Python?

#### ‚úÖ A. En Windows

‚úÖ Abre CMD o PowerShell.

‚úÖ Navega a la carpeta donde est√° tu archivo.

Por ejemplo:

```cmd
cd C:\Users\TuUsuario\MisProyectos
```

‚úÖ Ejecuta:

```
python hola.py
```

o (a veces necesario):

```
python3 hola.py
```

‚úÖ Resultado esperado:

```
Hola mundo desde mi script
```

---

#### ‚úÖ B. En Linux o Mac

‚úÖ Abre la terminal.

‚úÖ Navega a la carpeta del script:

```bash
cd /home/tuusuario/MisProyectos
```

o

```bash
cd ~/MisProyectos
```

‚úÖ Ejecuta:

```bash
python hola.py
```

o

```bash
python3 hola.py
```

‚úÖ Resultado:

```
Hola mundo desde mi script
```

---

### ‚úÖ Ejemplo de script m√°s completo

‚úÖ Vamos a crear un script llamado **saludo.py**:

```python
nombre = input("¬øC√≥mo te llamas? ")
print(f"¬°Hola, {nombre}!")
```

‚úÖ Guardar como:

```
saludo.py
```

‚úÖ Ejecutar:

```
python saludo.py
```

‚úÖ Ejemplo de salida en terminal:

```
¬øC√≥mo te llamas? Juan
¬°Hola, Juan!
```

---

### ‚úÖ Opci√≥n avanzada (hacerlo ejecutable en Linux/Mac)

‚úÖ Agregar _shebang_ al inicio del archivo:

```python
#!/usr/bin/env python3
print("¬°Hola mundo ejecutable!")
```

‚úÖ Dar permisos de ejecuci√≥n:

```bash
chmod +x mi_script.py
```

‚úÖ Ejecutar directamente:

```bash
./mi_script.py
```

‚úÖ Resultado:

```
¬°Hola mundo ejecutable!
```

---

### ‚úÖ Ejecutar scripts en VSCode

‚úÖ Abre VSCode.

‚úÖ Abre la carpeta o el archivo `.py`.

‚úÖ Haz clic en el bot√≥n ‚ñ∂Ô∏è (Run Python File).

‚úÖ Salida aparecer√° en el terminal integrado.

‚úÖ Ejemplo:

```python
print("Probando desde VSCode")
```

---

### ‚úÖ Ejecutar scripts en IDLE (el editor de Python)

‚úÖ Python incluye **IDLE** al instalarlo.

‚úÖ Abre IDLE.

‚úÖ File > New File.

‚úÖ Escribe tu c√≥digo.

‚úÖ File > Save As...

‚úÖ File > Run Module (o presiona F5).

‚úÖ Resultado:

```
>>> ===================
>>> Hola desde IDLE
```

---

### ‚úÖ Ejecutar scripts con argumentos

‚úÖ Crea **argumentos** en tu script:

```python
import sys

print("Argumentos recibidos:", sys.argv)
```

‚úÖ Guarda como:

```
args.py
```

‚úÖ Ejecutar:

```
python args.py uno dos tres
```

‚úÖ Resultado:

```
Argumentos recibidos: ['args.py', 'uno', 'dos', 'tres']
```

---

### ‚úÖ ¬øC√≥mo instalar y usar entornos virtuales (opcional recomendado)?

‚úÖ Para aislar dependencias por proyecto.

‚úÖ Crear:

```
python -m venv venv
```

‚úÖ Activar:

‚≠ê Windows:

```
venv\Scripts\activate
```

‚≠ê Linux/Mac:

```
source venv/bin/activate
```

‚úÖ Instalar paquetes:

```
pip install requests
```

‚úÖ Ejecutar script:

```
python mi_script.py
```

‚úÖ Desactivar entorno:

```
deactivate
```

---

### ‚úÖ Ejemplo final s√∫per completo

‚úÖ C√≥digo (en archivo **mi_programa.py**):

```python
#!/usr/bin/env python3

import sys

def main():
    print("Hola desde mi_programa.py")
    print("Argumentos:", sys.argv)

if __name__ == "__main__":
    main()
```

‚úÖ Guardar.

‚úÖ Dar permisos (Linux/Mac):

```
chmod +x mi_programa.py
```

‚úÖ Ejecutar:

```
./mi_programa.py hola mundo
```

‚úÖ Resultado:

```
Hola desde mi_programa.py
Argumentos: ['./mi_programa.py', 'hola', 'mundo']
```

---

### ‚úÖ Resumen breve

‚úÖ Un script = archivo .py con c√≥digo.

‚úÖ Escribir con cualquier editor.

‚úÖ Guardar como .py.

‚úÖ Ejecutar con:

```
python archivo.py
```

‚úÖ Se puede usar CMD, terminal, VSCode, IDLE.

‚úÖ En Linux/Mac puedes hacerlo ejecutable.

‚úÖ Puedes usar entornos virtuales para gestionar dependencias.

---

### ‚úÖ Consejos finales

‚≠ê Usa nombres claros: `mi_script.py`, `analisis.py`.

‚≠ê Comenta tu c√≥digo.

‚≠ê Usa entornos virtuales.

‚≠ê Prueba en VSCode o PyCharm para m√°s comodidad.

‚≠ê Aprende a usar `argparse` para argumentos m√°s pro.

---

[üîº](#√≠ndice)

---

## **157. Argumentos en l√≠nea de comandos: Argparse**

### ‚úÖ ¬øQu√© es `argparse`?

`argparse` es **un m√≥dulo de Python** para crear programas que acepten **argumentos desde la l√≠nea de comandos**.

‚úÖ Permite leer argumentos que escribes cuando llamas a tu script.

‚úÖ Genera ayuda autom√°tica (`-h`).

‚úÖ Es muy usado en scripts, herramientas de automatizaci√≥n, CLI.

---

### ‚úÖ ¬øPara qu√© sirve?

‚úîÔ∏è Para que tus scripts sean interactivos y configurables **sin editar el c√≥digo**.

‚úÖ Por ejemplo:

En lugar de hardcodear:

```python
nombre = "Juan"
```

Puedes ejecutarlo as√≠:

```
python saludo.py --nombre Juan
```

---

‚úÖ Usos comunes:

‚≠ê Scripts de automatizaci√≥n.

‚≠ê Herramientas de l√≠nea de comandos.

‚≠ê Procesamiento de archivos.

‚≠ê Web scraping configurable.

‚≠ê Machine learning (ajustar par√°metros desde CLI).

---

### ‚úÖ ¬øC√≥mo se instala?

‚úÖ ¬°No necesitas instalar nada!
`argparse` **viene incluido con Python** (desde la versi√≥n 2.7 y 3.2+).

‚úÖ Solo necesitas **importarlo**:

```python
import argparse
```

---

### ‚úÖ ¬øC√≥mo funciona? Explicaci√≥n simple

‚úÖ Tu script define **qu√© argumentos espera**.

‚úÖ El usuario llama al script con esos argumentos.

‚úÖ Tu c√≥digo **lee y usa** esos valores.

---

### ‚úÖ Ejemplo s√∫per sencillo (argumento obligatorio)

Vamos a crear un script llamado **saludo.py**:

---

**saludo.py:**

```python
import argparse

parser = argparse.ArgumentParser(description="Script de saludo")
parser.add_argument("nombre", help="Tu nombre")
args = parser.parse_args()

print(f"¬°Hola, {args.nombre}!")
```

---

‚úÖ Explicaci√≥n paso a paso:

1Ô∏è‚É£ `ArgumentParser` ‚ûú Crea el "parser" que entiende argumentos.

2Ô∏è‚É£ `add_argument("nombre", ...)` ‚ûú Define argumento obligatorio.

3Ô∏è‚É£ `parse_args()` ‚ûú Lee los argumentos pasados.

4Ô∏è‚É£ `args.nombre` ‚ûú Valor que el usuario pas√≥.

---

‚úÖ ¬øC√≥mo se ejecuta?

```bash
python saludo.py Juan
```

‚úÖ Salida:

```
¬°Hola, Juan!
```

---

‚úÖ Si lo llamas sin argumento:

```bash
python saludo.py
```

Te dar√° error + ayuda autom√°tica:

```
usage: saludo.py [-h] nombre
saludo.py: error: the following arguments are required: nombre
```

---

### ‚úÖ Ejemplo con argumentos opcionales

Ahora veremos **argumentos con flags**:

‚úÖ Creamos **saludo_opcional.py**:

```python
import argparse

parser = argparse.ArgumentParser(description="Saludo personalizado")
parser.add_argument("--nombre", help="Tu nombre", default="amigo")
args = parser.parse_args()

print(f"¬°Hola, {args.nombre}!")
```

---

‚úÖ Explicaci√≥n:

- `--nombre` ‚ûú argumento opcional (con doble guion).
- `default="amigo"` ‚ûú valor por defecto si no se pasa.

---

‚úÖ Ejecutar con argumento:

```bash
python saludo_opcional.py --nombre Juan
```

‚úÖ Salida:

```
¬°Hola, Juan!
```

---

‚úÖ Ejecutar sin argumento:

```bash
python saludo_opcional.py
```

‚úÖ Salida:

```
¬°Hola, amigo!
```

---

### ‚úÖ Argumentos m√∫ltiples

‚úÖ Script: **operaciones.py**

```python
import argparse

parser = argparse.ArgumentParser(description="Sumar dos n√∫meros")
parser.add_argument("a", type=int, help="Primer n√∫mero")
parser.add_argument("b", type=int, help="Segundo n√∫mero")
args = parser.parse_args()

resultado = args.a + args.b
print(f"La suma de {args.a} y {args.b} es {resultado}")
```

---

‚úÖ Ejecutar:

```bash
python operaciones.py 5 7
```

‚úÖ Salida:

```
La suma de 5 y 7 es 12
```

---

### ‚úÖ Argumentos opcionales con flags

‚úÖ Script: **saludo_formal.py**

```python
import argparse

parser = argparse.ArgumentParser(description="Saludo formal o informal")
parser.add_argument("--nombre", help="Tu nombre", default="amigo")
parser.add_argument("--formal", action="store_true", help="Usar saludo formal")
args = parser.parse_args()

if args.formal:
    print(f"Estimado/a {args.nombre}, un placer saludarle.")
else:
    print(f"¬°Hola, {args.nombre}!")
```

---

‚úÖ Ejecutar informal:

```bash
python saludo_formal.py --nombre Juan
```

‚úÖ Salida:

```
¬°Hola, Juan!
```

---

‚úÖ Ejecutar formal:

```bash
python saludo_formal.py --nombre Juan --formal
```

‚úÖ Salida:

```
Estimado/a Juan, un placer saludarle.
```

---

‚úÖ Explicaci√≥n del flag:

- `action="store_true"` ‚ûú Guarda `True` si est√° presente, `False` si no.
- Es un **interruptor**.

---

### ‚úÖ Mostrar ayuda autom√°tica

‚úÖ Todos los scripts con argparse soportan:

```
-h
```

o

```
--help
```

‚úÖ Ejemplo:

```bash
python saludo_formal.py --help
```

‚úÖ Salida:

```
usage: saludo_formal.py [-h] [--nombre NOMBRE] [--formal]

Saludo formal o informal

optional arguments:
  -h, --help       show this help message and exit
  --nombre NOMBRE  Tu nombre
  --formal         Usar saludo formal
```

---

### ‚úÖ Ejemplo completo y profesional

‚úÖ Script: **procesador_archivos.py**

```python
import argparse

def main():
    parser = argparse.ArgumentParser(
        description="Procesador de archivos con opciones"
    )

    parser.add_argument(
        "archivo", help="Ruta del archivo a procesar"
    )
    parser.add_argument(
        "--verbose", "-v", action="store_true", help="Modo detallado"
    )
    parser.add_argument(
        "--output", "-o", help="Archivo de salida"
    )

    args = parser.parse_args()

    if args.verbose:
        print(f"Procesando archivo: {args.archivo}")

    # Simulaci√≥n de procesamiento
    contenido = f"Contenido procesado de {args.archivo}"

    if args.output:
        with open(args.output, "w") as f:
            f.write(contenido)
        if args.verbose:
            print(f"Guardado en {args.output}")
    else:
        print(contenido)

if __name__ == "__main__":
    main()
```

---

‚úÖ Usos:

‚≠ê Solo mostrar resultado:

```bash
python procesador_archivos.py entrada.txt
```

‚úÖ Resultado:

```
Contenido procesado de entrada.txt
```

---

‚≠ê Modo verbose:

```bash
python procesador_archivos.py entrada.txt --verbose
```

‚úÖ Resultado:

```
Procesando archivo: entrada.txt
Contenido procesado de entrada.txt
```

---

‚≠ê Guardar en archivo:

```bash
python procesador_archivos.py entrada.txt --output resultado.txt
```

‚úÖ Resultado:

- Archivo **resultado.txt** creado con el contenido procesado.

---

### ‚úÖ Resumen r√°pido

‚úÖ `argparse` viene con Python.

‚úÖ Permite definir argumentos:

- Posicionales (obligatorios).
- Opcionales (con flags).

  ‚úÖ Genera ayuda autom√°tica.

  ‚úÖ Soporta tipos de datos.

  ‚úÖ Muy usado para scripts profesionales.

---

### ‚úÖ Gu√≠a ultra-corta de uso

‚úîÔ∏è Importar:

```python
import argparse
```

‚úîÔ∏è Crear parser:

```python
parser = argparse.ArgumentParser(description="Descripci√≥n")
```

‚úîÔ∏è Agregar argumentos:

```python
parser.add_argument("posicional")
parser.add_argument("--opcional", default="valor")
parser.add_argument("--flag", action="store_true")
```

‚úîÔ∏è Parsear:

```python
args = parser.parse_args()
```

‚úîÔ∏è Usar:

```python
print(args.posicional)
print(args.opcional)
print(args.flag)
```

---

‚úÖ Resultado:

Ejecutar con:

```
python mi_script.py valor --opcional otro --flag
```

‚úÖ Salida:

```
valor
otro
True
```

---

### ‚úÖ Consejos y buenas pr√°cticas

‚≠ê Usa nombres claros para tus argumentos.

‚≠ê Usa `--help` para verificar la descripci√≥n.

‚≠ê Incluye `type=int`, `default`, `choices` para validar.

‚≠ê Usa `action="store_true"` para banderas.

‚≠ê Encapsula en funciones para scripts grandes.

---

### ‚úÖ NO NECESITAS INSTALAR NADA

‚úÖ `argparse` ya viene en Python.

‚úîÔ∏è Solo importa:

```python
import argparse
```

---

[üîº](#√≠ndice)

---

## **158. Generaci√≥n de resultados: JSON, HTML, Consola**

### ‚úÖ ¬øQu√© significa "generaci√≥n de resultados"?

Es **producir o "imprimir" datos** de tu script en alg√∫n formato para que **otros programas o usuarios puedan usarlos**.

Por ejemplo:

‚úîÔ∏è Generar **JSON** para APIs o para guardar datos.

‚úîÔ∏è Generar **HTML** para p√°ginas web o reportes.

‚úîÔ∏è Mostrar resultados en **consola** para usuarios humanos.

---

### ‚úÖ Resultado en **CONSOLA**

**Consola** significa simplemente **mostrar texto al usuario** con `print()`.

‚úÖ **NO necesita instalar nada.**

‚úÖ Es la forma m√°s simple y directa.

---

#### ‚≠ê Ejemplo 1: Hola mundo

```python
print("¬°Hola mundo!")
```

‚úÖ Resultado al ejecutar:

```
¬°Hola mundo!
```

---

#### ‚≠ê Ejemplo 2: Mostrar datos calculados

```python
nombre = "Juan"
edad = 30

print("Nombre:", nombre)
print("Edad:", edad)
```

‚úÖ Resultado:

```
Nombre: Juan
Edad: 30
```

---

#### ‚≠ê Ejemplo 3: Formatear salida

```python
nombre = "Ana"
saldo = 1234.56

print(f"Cliente: {nombre}, Saldo: ${saldo:.2f}")
```

‚úÖ Resultado:

```
Cliente: Ana, Saldo: $1234.56
```

---

‚úÖ **Resumen CONSOLA:**

- Solo necesitas `print()`.
- S√∫per directo.
- Perfecto para scripts simples.

---

### ‚úÖ Resultado en **JSON**

‚úÖ **JSON** (JavaScript Object Notation) es un formato de texto **muy usado** para intercambiar datos entre programas.

‚úÖ Python trae un m√≥dulo **integrado**: `json`.

‚úÖ ¬°No necesitas instalar nada!

---

#### ‚≠ê Ejemplo sencillo: guardar datos en JSON

‚úÖ C√≥digo: **guardar_json.py**

```python
import json

# Datos en Python (diccionario)
datos = {
    "nombre": "Carlos",
    "edad": 25,
    "ciudad": "Lima"
}

# Guardar en archivo JSON
with open("salida.json", "w") as f:
    json.dump(datos, f, indent=4)

print("Archivo JSON generado con √©xito.")
```

---

‚úÖ Resultado:

- Archivo **salida.json** generado con contenido:

```json
{
  "nombre": "Carlos",
  "edad": 25,
  "ciudad": "Lima"
}
```

---

#### ‚≠ê Ejemplo: convertir a texto JSON

‚úÖ C√≥digo:

```python
import json

persona = {"nombre": "Luc√≠a", "edad": 28}

# Convertir a string JSON
texto_json = json.dumps(persona, indent=4)

print("JSON generado:")
print(texto_json)
```

‚úÖ Resultado en consola:

```
JSON generado:
{
    "nombre": "Luc√≠a",
    "edad": 28
}
```

---

#### ‚≠ê Ejemplo: leer JSON

‚úÖ C√≥digo:

```python
import json

with open("salida.json") as f:
    datos = json.load(f)

print("Datos le√≠dos:", datos)
```

‚úÖ Resultado:

```
Datos le√≠dos: {'nombre': 'Carlos', 'edad': 25, 'ciudad': 'Lima'}
```

---

‚úÖ **Resumen JSON:**

- Usa `import json` (viene con Python).
- `json.dump()` ‚ûú guardar en archivo.
- `json.dumps()` ‚ûú convertir a texto.
- `json.load()` ‚ûú leer desde archivo.
- `json.loads()` ‚ûú leer desde string.

---

### ‚úÖ Resultado en **HTML**

‚úÖ HTML (HyperText Markup Language) se usa para **crear p√°ginas web** o **reportes en formato web**.

‚úÖ En Python puedes **generar archivos .html f√°cilmente**.

‚úÖ **No necesitas instalar nada** para lo b√°sico.

---

#### ‚≠ê Ejemplo simple: generar archivo HTML

‚úÖ C√≥digo: **generar_html.py**

```python
contenido_html = """
<!DOCTYPE html>
<html>
<head>
    <title>Reporte</title>
</head>
<body>
    <h1>Reporte de Cliente</h1>
    <p>Nombre: Juan P√©rez</p>
    <p>Edad: 32</p>
</body>
</html>
"""

with open("reporte.html", "w") as f:
    f.write(contenido_html)

print("Archivo HTML generado con √©xito.")
```

---

‚úÖ Resultado:

- Archivo **reporte.html** con contenido web.
- Puedes abrirlo en tu navegador.

---

#### ‚≠ê Ejemplo din√°mico: usando variables

‚úÖ C√≥digo: **reporte_dinamico.py**

```python
nombre = "Ana"
edad = 29

html = f"""
<!DOCTYPE html>
<html>
<head>
    <title>Reporte Personalizado</title>
</head>
<body>
    <h1>Reporte de Cliente</h1>
    <p>Nombre: {nombre}</p>
    <p>Edad: {edad}</p>
</body>
</html>
"""

with open("reporte_ana.html", "w") as f:
    f.write(html)

print("Reporte generado para", nombre)
```

‚úÖ Resultado:

- Archivo **reporte_ana.html** generado con los datos din√°micos.

---

#### ‚≠ê Resultado al abrir en navegador:

```
Reporte de Cliente

Nombre: Ana
Edad: 29
```

---

‚úÖ **Extra (opcional):** Usar plantillas avanzadas

Si quieres algo m√°s pro ‚ûú puedes instalar Jinja2:

```
pip install Jinja2
```

‚úÖ Pero para lo **b√°sico** ‚ûú `f-strings` o `.format()` ya funcionan.

---

‚úÖ **Resumen HTML:**

- Solo necesitas abrir un archivo `.html` en modo escritura.
- Puedes mezclar texto con variables de Python.
- Ideal para reportes bonitos.

---

### ‚úÖ INSTALACI√ìN (resumen de requisitos)

‚úÖ **Consola**:

‚úîÔ∏è No necesita nada extra.

‚úîÔ∏è Solo Python.

‚úÖ **JSON**:

‚úîÔ∏è No necesita nada extra.

‚úîÔ∏è El m√≥dulo `json` viene con Python.

‚úÖ **HTML**:

‚úîÔ∏è Para generaci√≥n b√°sica ‚ûú nada extra.

‚úîÔ∏è Para plantillas pro ‚ûú `pip install Jinja2` (opcional).

---

‚úÖ En Windows, Linux, Mac:

‚úîÔ∏è Solo necesitas tener **Python instalado**.

‚úîÔ∏è Verificar con:

```
python --version
```

‚úîÔ∏è Si no tienes ‚ûú descargar desde [https://www.python.org/](https://www.python.org/).

---

### ‚úÖ Comparaci√≥n r√°pida

| Formato | Uso principal                         | Complejidad |
| ------- | ------------------------------------- | ----------- |
| Consola | Mostrar resultados al usuario         | Muy f√°cil   |
| JSON    | Guardar datos estructurados / APIs    | F√°cil       |
| HTML    | Crear p√°ginas web / reportes legibles | F√°cil       |

---

### ‚úÖ Mini-proyecto completo (todo junto)

‚úÖ **Script:** `generador.py`

```python
import json

# Datos de ejemplo
cliente = {
    "nombre": "Luis",
    "edad": 40,
    "ciudad": "Cusco"
}

# 1Ô∏è‚É£ Resultado en Consola
print("\n--- CONSOLA ---")
print(f"Cliente: {cliente['nombre']}, Edad: {cliente['edad']}, Ciudad: {cliente['ciudad']}")

# 2Ô∏è‚É£ Resultado en JSON
with open("cliente.json", "w") as f:
    json.dump(cliente, f, indent=4)
print("\nArchivo JSON generado: cliente.json")

# 3Ô∏è‚É£ Resultado en HTML
html = f"""
<!DOCTYPE html>
<html>
<head>
    <title>Reporte de Cliente</title>
</head>
<body>
    <h1>Datos del Cliente</h1>
    <p>Nombre: {cliente['nombre']}</p>
    <p>Edad: {cliente['edad']}</p>
    <p>Ciudad: {cliente['ciudad']}</p>
</body>
</html>
"""

with open("cliente.html", "w") as f:
    f.write(html)
print("Archivo HTML generado: cliente.html")
```

---

‚úÖ Al ejecutar:

```
python generador.py
```

‚úÖ Resultado:

‚≠ê Consola:

```
--- CONSOLA ---
Cliente: Luis, Edad: 40, Ciudad: Cusco

Archivo JSON generado: cliente.json
Archivo HTML generado: cliente.html
```

‚≠ê Archivos generados:

- **cliente.json** con datos estructurados.
- **cliente.html** para abrir en navegador.

---

### ‚úÖ Resumen final

‚úÖ Mostrar en consola ‚ûú `print()`.

‚úÖ Guardar JSON ‚ûú `import json`.

‚úÖ Crear HTML ‚ûú escribir archivo `.html` con contenido din√°mico.

‚úÖ Nada extra que instalar para lo b√°sico.

---

[üîº](#√≠ndice)

---

## **159. Manejo de ficheros: Descarga, Lectura y Escritura**

### ‚úÖ Concepto b√°sico: ¬øQu√© es el manejo de ficheros en Python?

Es trabajar con **archivos en tu disco o en la red**:

‚úîÔ∏è **Descargarlos** desde Internet.

‚úîÔ∏è **Leerlos** (abrirlos y extraer su contenido).

‚úîÔ∏è **Escribirlos** (crear o modificar archivos).

---

‚úÖ Python trae **herramientas incorporadas** para trabajar con archivos locales:

‚úîÔ∏è No necesitas instalar nada extra para leer o escribir.

‚úÖ Para **descargar** desde la web, puedes usar:

‚úîÔ∏è `urllib` (viene con Python).

‚úîÔ∏è O la librer√≠a externa `requests` (m√°s f√°cil).

---

### ‚úÖ Requisitos previos: ¬øQu√© se instala?

‚úÖ Para lectura/escritura de archivos locales:

‚úîÔ∏è Nada. Python lo trae listo.

‚úÖ Para descargas simples:

‚úîÔ∏è `urllib` ‚ûú viene con Python.

‚úîÔ∏è `requests` ‚ûú mejor, m√°s f√°cil, pero debes instalarlo:

```bash
pip install requests
```

---

### ‚úÖ **Lectura de archivos**

‚úÖ Es abrir un archivo y **leer su contenido**.

---

#### ‚≠ê Ejemplo 1: Leer texto completo

Supongamos que tienes un archivo **saludo.txt**:

```
Hola mundo
Bienvenido a Python
```

‚úÖ C√≥digo:

```python
with open("saludo.txt", "r") as f:
    contenido = f.read()

print(contenido)
```

‚úÖ Salida en consola:

```
Hola mundo
Bienvenido a Python
```

---

‚úÖ Explicaci√≥n:

- `"r"` ‚ûú modo lectura (read).
- `with` ‚ûú asegura que se cierra el archivo.
- `f.read()` ‚ûú lee todo el contenido.

---

#### ‚≠ê Ejemplo 2: Leer l√≠nea por l√≠nea

```python
with open("saludo.txt", "r") as f:
    for linea in f:
        print("L√≠nea:", linea.strip())
```

‚úÖ Salida:

```
L√≠nea: Hola mundo
L√≠nea: Bienvenido a Python
```

‚úÖ `.strip()` ‚ûú quita saltos de l√≠nea.

---

### ‚úÖ **Escritura de archivos**

‚úÖ Crear o sobrescribir un archivo con contenido.

---

#### ‚≠ê Ejemplo 1: Escribir texto

‚úÖ C√≥digo:

```python
with open("nuevo.txt", "w") as f:
    f.write("Hola desde Python\n")
    f.write("Segunda l√≠nea\n")

print("Archivo escrito con √©xito.")
```

‚úÖ Resultado:

- Archivo **nuevo.txt** con:

```
Hola desde Python
Segunda l√≠nea
```

---

‚úÖ Explicaci√≥n:

- `"w"` ‚ûú modo escritura (write).
- Si el archivo existe ‚ûú **se sobrescribe**.
- `\n` ‚ûú salto de l√≠nea.

---

#### ‚≠ê Ejemplo 2: Agregar contenido

‚úÖ C√≥digo:

```python
with open("nuevo.txt", "a") as f:
    f.write("L√≠nea adicional\n")

print("L√≠nea a√±adida.")
```

‚úÖ Resultado:

- **nuevo.txt** ahora tiene:

```
Hola desde Python
Segunda l√≠nea
L√≠nea adicional
```

‚úÖ `"a"` ‚ûú modo append (agregar al final).

---

### ‚úÖ **Descarga de archivos desde Internet**

‚úÖ Vamos a ver **dos formas**:

‚úîÔ∏è (A) Usando `urllib` (viene con Python).

‚úîÔ∏è (B) Usando `requests` (m√°s f√°cil).

---

#### ‚úÖ (A) Descarga con urllib

‚úÖ Sin instalar nada.

```python
import urllib.request

url = "https://www.example.com/somefile.txt"
archivo_destino = "descargado.txt"

urllib.request.urlretrieve(url, archivo_destino)

print("Archivo descargado como", archivo_destino)
```

‚úÖ Explicaci√≥n:

- `urllib.request.urlretrieve()` ‚ûú descarga el archivo.
- Guarda en **descargado.txt**.

---

‚úÖ Nota:

- urllib ‚ûú b√°sico.
- No maneja muy bien errores o sesiones.

---

#### ‚úÖ (B) Descarga con `requests` (recomendado)

‚úÖ Primero debes instalar `requests` (si no lo tienes):

```
pip install requests
```

---

‚úÖ C√≥digo:

```python
import requests

url = "https://www.example.com/somefile.txt"

respuesta = requests.get(url)

with open("descarga_requests.txt", "wb") as f:
    f.write(respuesta.content)

print("Archivo descargado con requests")
```

‚úÖ Explicaci√≥n:

- `requests.get(url)` ‚ûú hace la petici√≥n HTTP.
- `.content` ‚ûú datos binarios.
- `"wb"` ‚ûú escribir en modo binario (para texto o im√°genes).

---

#### ‚≠ê Descargar imagen (ejemplo real)

```python
import requests

url = "https://www.python.org/static/img/python-logo.png"

r = requests.get(url)

with open("logo_python.png", "wb") as f:
    f.write(r.content)

print("Imagen descargada como logo_python.png")
```

‚úÖ Resultado: imagen guardada localmente.

---

### ‚úÖ **Lectura y escritura combinadas (copia de archivos)**

‚úÖ Ejemplo ‚ûú leer un archivo y crear una copia.

```python
with open("original.txt", "r") as f_origen:
    contenido = f_origen.read()

with open("copia.txt", "w") as f_destino:
    f_destino.write(contenido)

print("Archivo copiado con √©xito.")
```

‚úÖ Explicaci√≥n:

- Abres original en lectura.
- Lees contenido.
- Escribes en otro archivo.

---

### ‚úÖ Modos de apertura resumidos

| Modo   | Significado                   |
| ------ | ----------------------------- |
| `"r"`  | Leer (falla si no existe)     |
| `"w"`  | Escribir (crea o sobrescribe) |
| `"a"`  | Agregar al final              |
| `"rb"` | Leer en binario               |
| `"wb"` | Escribir en binario           |

‚úÖ Binario ‚ûú para im√°genes, PDF, etc.

---

### ‚úÖ Ejemplo completo (mini-proyecto)

‚úÖ **descargar_guardar.py**:

```python
import requests

# 1. Descargar archivo de texto
url = "https://www.w3.org/TR/PNG/iso_8859-1.txt"
r = requests.get(url)

# 2. Guardar archivo descargado
with open("descargado.txt", "wb") as f:
    f.write(r.content)

print("Archivo descargado.")

# 3. Leer el contenido
with open("descargado.txt", "r", encoding="latin1") as f:
    contenido = f.read()

print("\n--- Contenido del archivo ---")
print(contenido[:200])  # solo las primeras 200 letras

# 4. Escribir un resumen en otro archivo
with open("resumen.txt", "w") as f:
    f.write("Primeras 200 letras del archivo descargado:\n")
    f.write(contenido[:200])

print("\nResumen guardado en resumen.txt")
```

---

‚úÖ Resultado al ejecutar:

```
Archivo descargado.

--- Contenido del archivo ---
The following are the graphical (non-control) characters defined by
ISO 8859-1 (1987).  Descriptions in words
...

Resumen guardado en resumen.txt
```

‚úÖ Genera:

- `descargado.txt` ‚ûú contenido completo.
- `resumen.txt` ‚ûú las primeras 200 letras.

---

#### ‚úÖ Instalaci√≥n resumida

‚úÖ Para **lectura/escritura locales** ‚ûú nada que instalar.

‚úÖ Para descargas:

- `urllib` ‚ûú ya incluido.
- `requests` ‚ûú instalar con:

```
pip install requests
```

---

‚úÖ Verifica Python con:

```
python --version
```

‚úÖ Si no tienes Python ‚ûú desc√°rgalo de:

- [https://www.python.org/downloads/](https://www.python.org/downloads/)

---

### ‚úÖ Resumen Final

‚úîÔ∏è **Lectura** ‚ûú `open("archivo", "r")`.

‚úîÔ∏è **Escritura** ‚ûú `open("archivo", "w")`.

‚úîÔ∏è **Agregar** ‚ûú `open("archivo", "a")`.

‚úîÔ∏è **Descarga urllib** ‚ûú incluido en Python.

‚úîÔ∏è **Descarga requests** ‚ûú instalar con `pip`.

‚úÖ Puedes hacer:

- Procesamiento de texto.
- Copias de archivos.
- Descargar y guardar im√°genes o datos.
- Generar reportes.

---

[üîº](#√≠ndice)

---

## **160. Inteligencia Artificial aplicada a Hacking √âtico y Ciberseguridad**

### ‚úÖ ¬øQu√© significa "IA aplicada a Hacking √âtico y Ciberseguridad"?

**IA (Inteligencia Artificial)** es un conjunto de t√©cnicas que permiten a los sistemas **analizar datos, aprender patrones y tomar decisiones** autom√°ticamente.

**En Ciberseguridad y Hacking √âtico**, IA se usa para:

‚úîÔ∏è Detectar ataques y anomal√≠as.

‚úîÔ∏è Analizar logs en busca de intrusiones.

‚úîÔ∏è Automatizar pentesting.

‚úîÔ∏è Generar reportes inteligentes.

‚úîÔ∏è Clasificar malware.

‚úîÔ∏è Predecir amenazas.

‚úîÔ∏è Generar payloads o fuzzing inteligentes.

---

‚úÖ En hacking √©tico ‚ûú el especialista usa IA como **herramienta** para:

‚≠ê Encontrar vulnerabilidades m√°s r√°pido.

‚≠ê Revisar enormes vol√∫menes de datos (logs, tr√°fico).

‚≠ê Simular ataques inteligentes.

‚≠ê Automatizar tareas repetitivas.

---

### ‚úÖ ¬øPara qu√© sirve concretamente? (Ejemplos reales)

‚úÖ _Detecci√≥n de intrusos (IDS/IPS):_

Usar IA para reconocer patrones an√≥malos en tr√°fico de red.

‚úÖ _An√°lisis de logs:_

IA puede analizar gigabytes de logs y encontrar patrones sospechosos.

‚úÖ _Clasificaci√≥n de malware:_

Entrenar modelos para diferenciar archivos maliciosos o benignos.

‚úÖ _Fuzzing inteligente:_

Generar entradas maliciosas de forma m√°s efectiva para probar seguridad.

‚úÖ _Reconocimiento de patrones en escaneos:_

Identificar hosts vulnerables bas√°ndose en fingerprinting.

‚úÖ _Chatbots defensivos:_

Asistir en respuesta a incidentes (como copilotos de SOC).

‚úÖ _Automatizaci√≥n de OSINT:_

Analizar datos p√∫blicos para encontrar datos expuestos.

---

### ‚úÖ Tecnolog√≠as t√≠picas usadas en IA para Ciberseguridad

‚úÖ Python (lenguaje m√°s usado)

‚úÖ Bibliotecas de IA:

- scikit-learn
- TensorFlow
- PyTorch

‚úÖ Bibliotecas para datos:

- pandas
- numpy
- matplotlib

‚úÖ Herramientas de ciberseguridad:

- Nmap
- Wireshark/tshark
- Metasploit

‚úÖ Plataformas de SIEM:

- Splunk
- ELK (Elasticsearch, Logstash, Kibana)

---

### ‚úÖ Instalaci√≥n del entorno en Python

‚≠ê Para usar IA en ciberseguridad, necesitas:

‚úÖ Python (recomendado 3.8+)

‚úÖ Paquetes para IA y an√°lisis:

```
pip install scikit-learn pandas numpy matplotlib
```

‚úÖ Para redes / hacking √©tico puedes a√±adir:

```
pip install python-nmap requests
```

‚úÖ Para redes avanzadas:

```
pip install scapy
```

‚úÖ Para redes neuronales:

```
pip install tensorflow
```

o

```
pip install torch
```

---

‚úÖ Verificar instalaci√≥n:

```
python --version
```

‚úÖ Ejemplo de importaci√≥n en un script:

```python
import pandas as pd
import numpy as np
from sklearn.ensemble import RandomForestClassifier
```

---

### ‚úÖ Ejemplo 1: Detecci√≥n de tr√°fico sospechoso (simplificado)

**Escenario:** quieres clasificar conexiones como normales o sospechosas.

---

#### üìå Dataset ficticio:

| bytes_sent | duration | flag_syn | label  |
| ---------- | -------- | -------- | ------ |
| 500        | 10       | 1        | normal |
| 2000       | 60       | 1        | ataque |
| 100        | 5        | 0        | normal |

---

#### üìå C√≥digo paso a paso

‚úÖ 1Ô∏è‚É£ Crear datos:

```python
import pandas as pd

data = {
    'bytes_sent': [500, 2000, 100],
    'duration': [10, 60, 5],
    'flag_syn': [1, 1, 0],
    'label': ['normal', 'ataque', 'normal']
}

df = pd.DataFrame(data)
print(df)
```

‚úÖ 2Ô∏è‚É£ Entrenar modelo:

```python
from sklearn.ensemble import RandomForestClassifier

# Variables (X) y etiquetas (y)
X = df[['bytes_sent', 'duration', 'flag_syn']]
y = df['label']

modelo = RandomForestClassifier()
modelo.fit(X, y)
```

‚úÖ 3Ô∏è‚É£ Predecir tr√°fico nuevo:

```python
nuevo = [[1500, 45, 1]]
prediccion = modelo.predict(nuevo)
print("Resultado:", prediccion[0])
```

‚úÖ Resultado esperado:

```
Resultado: ataque
```

---

‚úÖ **Explicaci√≥n:**

- El modelo aprende diferencias entre tr√°fico normal y malicioso.
- Puedes aplicar esto a logs de firewall o de red reales.

---

### ‚úÖ Ejemplo 2: An√°lisis de logs para patrones

**Escenario:** detectar anomal√≠as en logs de acceso.

‚úÖ C√≥digo:

```python
import pandas as pd

# Simular logs
logs = {
    'ip': ['192.168.1.10', '192.168.1.10', '10.0.0.5', '10.0.0.5', '10.0.0.5'],
    'peticiones': [5, 6, 50, 55, 60]
}

df = pd.DataFrame(logs)

# Regla simple: m√°s de 40 peticiones = sospechoso
df['sospechoso'] = df['peticiones'] > 40

print(df)
```

‚úÖ Resultado:

```
           ip  peticiones  sospechoso
0  192.168.1.10           5       False
1  192.168.1.10           6       False
2      10.0.0.5          50        True
3      10.0.0.5          55        True
4      10.0.0.5          60        True
```

---

‚úÖ **Explicaci√≥n:**

- Analiza logs con pandas.
- Aplica regla para marcar IPs sospechosas.
- F√°cil de adaptar para SIEM o alertas.

---

### ‚úÖ Ejemplo 3: Descarga y an√°lisis de inteligencia de amenazas (OSINT)

**Escenario:** descargar feeds de IPs maliciosas y compararlas.

‚úÖ C√≥digo:

```python
import requests

# Descargar lista (ejemplo ficticio)
url = "https://example.com/malicious_ips.txt"
# En la pr√°ctica usar√≠as un feed real de abuseipdb o similar
ips_maliciosas = ["10.0.0.5", "203.0.113.1"]

# Logs locales
logs_locales = ["192.168.1.10", "10.0.0.5", "8.8.8.8"]

for ip in logs_locales:
    if ip in ips_maliciosas:
        print(f"ALERTA: IP maliciosa detectada {ip}")
```

‚úÖ Resultado:

```
ALERTA: IP maliciosa detectada 10.0.0.5
```

---

‚úÖ **Explicaci√≥n:**

- Descarga (o simula) feed de amenazas.
- Compara contra tus logs.
- Automatiza detecci√≥n de amenazas.

---

### ‚úÖ Uso m√°s avanzado: Redes Neuronales (opcional)

‚úÖ Puedes usar TensorFlow o PyTorch para:

‚úîÔ∏è Clasificaci√≥n de malware en archivos.

‚úîÔ∏è Detecci√≥n avanzada de intrusos.

‚úîÔ∏è Modelos de lenguaje para an√°lisis de logs.

‚úÖ Instalaci√≥n:

```
pip install tensorflow
```

o

```
pip install torch
```

‚úÖ Ejemplo simple con TensorFlow:

```python
import tensorflow as tf

print("TensorFlow version:", tf.__version__)
```

‚úÖ Resultado:

```
TensorFlow version: 2.x
```

‚úÖ Desde ah√≠ puedes construir modelos para clasificaci√≥n de datos de seguridad.

---

### ‚úÖ ¬øC√≥mo se integra con herramientas de seguridad reales?

‚úÖ Nmap ‚ûú parsear resultados y buscar vulnerabilidades.

‚úÖ Wireshark ‚ûú analizar capturas (con scapy).

‚úÖ Metasploit ‚ûú automatizar ataques (con scripting).

‚úÖ ELK ‚ûú enviar/recibir datos para dashboards.

‚úÖ SIEM ‚ûú procesar logs y alertar con IA.

---

‚úÖ Ejemplo simple: ejecutar Nmap y analizar resultados

```python
import nmap

scanner = nmap.PortScanner()
scanner.scan('127.0.0.1', '22-80')

for host in scanner.all_hosts():
    print("Host:", host)
    print("Estado:", scanner[host].state())
    for proto in scanner[host].all_protocols():
        ports = scanner[host][proto].keys()
        for port in ports:
            print(f"Puerto {port} abierto")
```

‚úÖ Salida:

```
Host: 127.0.0.1
Estado: up
Puerto 22 abierto
...
```

---

‚úÖ Puedes aplicar IA para:

- Clasificar hosts vulnerables.
- Priorizar objetivos.
- Detectar patrones de ataque.

---

### ‚úÖ Resumen

‚úîÔ∏è **IA en ciberseguridad** ‚ûú Analizar datos, detectar ataques, automatizar tareas.

‚úîÔ∏è **Uso en Hacking √âtico** ‚ûú Pentesting inteligente, OSINT automatizado, fuzzing.

‚úîÔ∏è **Instalaci√≥n b√°sica en Python**:

```
pip install pandas numpy scikit-learn matplotlib requests scapy
```

‚úîÔ∏è **Librer√≠as para IA avanzada**:

```
pip install tensorflow torch
```

---

‚úÖ Con Python puedes:

‚≠ê Descargar datos ‚ûú requests

‚≠ê Analizar ‚ûú pandas, numpy

‚≠ê Modelar ‚ûú scikit-learn, tensorflow

‚≠ê Hacer hacking √©tico ‚ûú nmap, scapy

---

[üîº](#√≠ndice)

---

## **161. Potenciando los Dorks con Inteligencia Artificial**

### ‚úÖ ¬øQu√© es un Dork?

‚úîÔ∏è Un **Google Dork** es una consulta avanzada en motores de b√∫squeda (Google, Bing, DuckDuckGo) que usa operadores especiales para **encontrar informaci√≥n sensible o vulnerable** expuesta en Internet.

‚úÖ Ejemplos cl√°sicos:

- `site:example.com inurl:admin`
- `intitle:index.of passwd`
- `filetype:sql password`

---

‚úÖ **Uso en hacking √©tico:**

‚≠ê Descubrir paneles de administraci√≥n.

‚≠ê Encontrar archivos de respaldo p√∫blicos.

‚≠ê Detectar errores de configuraci√≥n.

‚≠ê Realizar OSINT.

---

### ‚úÖ ¬øQu√© significa ‚Äúpotenciar dorks con IA‚Äù?

‚úÖ Es **usar Inteligencia Artificial (IA) para mejorar la creaci√≥n o el uso de dorks**.

‚úîÔ∏è En lugar de escribirlos manualmente, entrenas o usas modelos para:

‚úÖ Generar dorks m√°s efectivos.

‚úÖ Adaptarlos a un objetivo espec√≠fico.

‚úÖ Clasificar o filtrar dorks √∫tiles.

‚úÖ Encontrar patrones exitosos.

---

‚úÖ **Ejemplo de idea pr√°ctica:**

‚≠ê Darle a un modelo datos de muchos dorks conocidos.

‚≠ê Pedirle que genere variaciones nuevas.

‚≠ê Filtrar los que sean m√°s relevantes para cierto dominio o tecnolog√≠a.

---

‚úÖ Es como tener un **asistente inteligente** que te ayuda a encontrar mejores dorks para pentesting.

---

### ‚úÖ ¬øPara qu√© sirve en hacking √©tico?

‚úîÔ∏è Aumenta productividad ‚ûú menos tiempo probando dorks in√∫tiles.

‚úîÔ∏è Encuentra resultados menos obvios ‚ûú dorks creativos.

‚úîÔ∏è Personaliza ataques ‚ûú por dominio, por tecnolog√≠a.

‚úîÔ∏è Ayuda a principiantes ‚ûú sugiere buenas consultas.

---

‚úÖ Muy √∫til para:

‚≠ê OSINT (Open Source Intelligence).

‚≠ê Bug bounty.

‚≠ê Red teaming.

‚≠ê Auditor√≠as web.

---

### ‚úÖ ¬øC√≥mo se puede hacer t√©cnicamente?

‚úÖ **En esencia:**

- Tienes **datos** ‚ûú una lista grande de dorks conocidos.
- Usas **modelos de lenguaje** ‚ûú para generar o completar dorks.
- Usas **filtros** ‚ûú para quedarte con los mejores.

---

‚úÖ Herramientas posibles:

‚úîÔ∏è Modelos de lenguaje ‚ûú GPT, T5, Bloom, LLaMA.

‚úîÔ∏è Algoritmos de NLP ‚ûú RNN, transformers.

‚úîÔ∏è Librer√≠as ‚ûú Hugging Face Transformers, scikit-learn, NLTK.

‚úÖ Tambi√©n se puede hacer con **modelos peque√±os entrenados localmente**.

---

‚úÖ Para empezar f√°cil en Python:

‚≠ê Usar **transformers** ‚ûú `pip install transformers`

‚≠ê Usar **textgen** ‚ûú `pip install textgenrnn`

‚≠ê Usar **scikit-learn** ‚ûú para clustering o filtrado.

---

### ‚úÖ Instalaci√≥n del entorno (Python)

Para hacer algo sencillo (generaci√≥n + filtrado):

‚úÖ 1Ô∏è‚É£ Tener Python 3.8+

‚úÖ 2Ô∏è‚É£ Instalar librer√≠as necesarias:

```
pip install transformers torch
pip install pandas scikit-learn
```

‚úÖ Explicaci√≥n:

- `transformers` ‚ûú usar modelos de lenguaje.
- `torch` ‚ûú backend de deep learning.
- `pandas`, `scikit-learn` ‚ûú analizar y filtrar resultados.

---

### ‚úÖ Ejemplo MUY simple paso a paso

#### üéØ Objetivo:

‚úÖ Generar nuevos dorks a partir de ejemplos.

‚úÖ Filtrar los m√°s largos o con ciertas palabras clave.

---

‚úÖ PASO 1Ô∏è‚É£: Lista de dorks de entrenamiento

```python
ejemplos_dorks = [
    "site:gov filetype:xls password",
    "intitle:index.of admin",
    "inurl:login site:.edu",
    "filetype:sql intext:password",
    "site:.com inurl:wp-admin"
]
```

---

‚úÖ PASO 2Ô∏è‚É£: Generar variantes con IA

Aqu√≠ usamos **Hugging Face transformers** con un modelo de lenguaje de texto simple.

```python
from transformers import pipeline

generator = pipeline("text-generation", model="distilgpt2")

for dork in ejemplos_dorks:
    resultado = generator(dork, max_length=30, num_return_sequences=1)
    print("Entrada:", dork)
    print("Generado:", resultado[0]['generated_text'])
    print()
```

‚úÖ Salida ejemplo (var√≠a):

```
Entrada: site:gov filetype:xls password
Generado: site:gov filetype:xls password admin inurl:login site:gov...

Entrada: intitle:index.of admin
Generado: intitle:index.of admin login user password...
```

---

‚úÖ **Explicaci√≥n:**

- El modelo aprende el "estilo" del dork.
- Genera variantes que combinan operadores.
- Puedes usar modelos m√°s grandes para mejor calidad.

---

‚úÖ PASO 3Ô∏è‚É£: Filtrar resultados

‚úÖ Supongamos queremos quedarnos **solo con dorks que contengan "login"**:

```python
resultados = [
    "site:gov filetype:xls password admin inurl:login site:gov",
    "intitle:index.of admin login user password",
    "filetype:sql intext:password dump database"
]

filtrados = [d for d in resultados if "login" in d]
print("Dorks filtrados:")
for d in filtrados:
    print("-", d)
```

‚úÖ Salida:

```
Dorks filtrados:
- site:gov filetype:xls password admin inurl:login site:gov
- intitle:index.of admin login user password
```

---

‚úÖ **Resultado:**

- Generaste y filtraste autom√°ticamente.
- Esto se puede aplicar a miles de dorks.
- Es la base para un asistente de OSINT o pentest.

---

### ‚úÖ Ejemplo m√°s pro: guardarlos en un CSV

‚úÖ C√≥digo:

```python
import pandas as pd

# Resultado filtrado
data = {
    'dork': filtrados,
    'comentario': ['posible login gov', 'index con admin login']
}

df = pd.DataFrame(data)
df.to_csv("dorks_generados.csv", index=False)

print("Archivo CSV generado con dorks.")
```

‚úÖ Resultado:

- Archivo **dorks_generados.csv**:

| dork                                                          | comentario            |
| ------------------------------------------------------------- | --------------------- |
| site\:gov filetype\:xls password admin inurl\:login site\:gov | posible login gov     |
| intitle\:index.of admin login user password                   | index con admin login |

---

‚úÖ **Explicaci√≥n:**

- Puedes entregar un reporte a tu equipo.
- O importarlo en Burp Suite o recon tools.

---

### ‚úÖ Idea de proyectos m√°s avanzados

‚úîÔ∏è Entrenar tu propio modelo (finetuning) en un corpus de dorks reales.

‚úîÔ∏è Usar embeddings para agrupar y deduplicar dorks.

‚úîÔ∏è Generar payloads espec√≠ficos para fuzzing.

‚úîÔ∏è Integrar con un bot de Telegram para OSINT.

‚úîÔ∏è Crear un script que lanza b√∫squedas autom√°ticas en Google/DuckDuckGo y guarda resultados.

---

### ‚úÖ Resumen paso a paso

‚úîÔ∏è 1Ô∏è‚É£ Colecciona datos (dorks reales).

‚úîÔ∏è 2Ô∏è‚É£ Usa IA ‚ûú Genera variantes creativas.

‚úîÔ∏è 3Ô∏è‚É£ Filtra ‚ûú Quita los irrelevantes.

‚úîÔ∏è 4Ô∏è‚É£ Guarda ‚ûú CSV, base de datos.

‚úîÔ∏è 5Ô∏è‚É£ Usa ‚ûú en recon, pentesting, OSINT.

---

### ‚úÖ Instalaci√≥n resumida

Para hacer estos ejemplos en tu m√°quina:

```
pip install transformers torch pandas scikit-learn
```

‚úÖ Verifica:

```
python --version
```

‚úÖ Si no tienes Python ‚ûú descargar en [https://www.python.org/downloads/](https://www.python.org/downloads/)

---

### ‚úÖ ¬øQu√© m√°s se puede hacer?

‚úîÔ∏è Usar modelos grandes (GPT-3.5, GPT-4 via API).

‚úîÔ∏è Entrenar un modelo con tus propios dorks.

‚úîÔ∏è Usar t√©cnicas de NLP para entender el contexto.

‚úîÔ∏è Construir un "Dork Generator" con UI en Flask.

‚úîÔ∏è Integrar en pipelines de OSINT autom√°ticos.

---

‚úÖ ¬°Eso es potenciar dorks con IA!

‚úÖ Mezclar hacking √©tico + NLP + automatizaci√≥n.

‚úÖ Ahorrar tiempo y descubrir m√°s.

---

[üîº](#√≠ndice)

---

## **162. OpenAI, GPT-4 y ChatGPT-4**

### ‚úÖ ¬øQu√© es OpenAI?

**OpenAI** es la empresa que cre√≥ los modelos GPT (Generative Pre-trained Transformer).

‚úÖ Es una empresa de investigaci√≥n en IA.

‚úÖ Desarrolla modelos de lenguaje que generan texto, im√°genes, c√≥digo, etc.

‚úÖ Productos m√°s conocidos:

- GPT-3, GPT-4
- ChatGPT
- DALL¬∑E (im√°genes)
- Whisper (audio/transcripci√≥n)
- Codex (c√≥digo)

---

‚úÖ **Idea clave:**

OpenAI = la empresa y la plataforma que te da acceso a sus modelos de IA.

---

### ‚úÖ ¬øQu√© es GPT-4?

‚úÖ GPT = Generative Pre-trained Transformer.

‚úÖ GPT-4 es **la cuarta generaci√≥n** de este modelo.

‚úîÔ∏è Es un **modelo de lenguaje grande** (LLM).

‚úîÔ∏è Puede **generar texto, responder preguntas, escribir c√≥digo, resumir, traducir, etc.**

‚úîÔ∏è Es **m√°s avanzado** que GPT-3.5:

- Mejor comprensi√≥n de instrucciones.
- Respuestas m√°s coherentes.
- Mejor manejo de contextos largos.

---

‚úÖ **Ejemplo de uso de GPT-4:**

‚≠ê Pregunta: ‚ÄúExpl√≠came la teor√≠a de la relatividad como si tuviera 5 a√±os.‚Äù

‚≠ê Respuesta de GPT-4 ‚ûú texto claro y sencillo.

---

‚úÖ **Importante:** GPT-4 es un **modelo**.

No se ‚Äúinstala‚Äù localmente (en tu PC) por defecto.

‚úÖ Se accede **v√≠a la nube (API de OpenAI o apps como ChatGPT)**.

---

### ‚úÖ ¬øQu√© es ChatGPT (y ChatGPT-4)?

‚úÖ ChatGPT = la **aplicaci√≥n** (web/app) que usa GPT-3.5 o GPT-4.

‚úîÔ∏è Es una **interfaz conversacional**.

‚úîÔ∏è Puedes chatear como con un humano.

‚úîÔ∏è ChatGPT-4 = ChatGPT usando el modelo GPT-4.

---

‚úÖ **Plan gratuito:**

- Usa GPT-3.5.

‚úÖ **Plan Plus (pago):**

- Puedes elegir GPT-4.

---

‚úÖ **Acceso:**

‚úîÔ∏è Web ‚ûú [https://chat.openai.com](https://chat.openai.com)

‚úîÔ∏è App ‚ûú iOS y Android.

---

‚úÖ **Resumen sencillo:**

- **GPT-4** = el modelo.
- **ChatGPT** = la app para usarlo.
- **ChatGPT-4** = usar GPT-4 en ChatGPT (con suscripci√≥n Plus).

---

---

### ‚úÖ ¬øPara qu√© sirve GPT-4?

‚úîÔ∏è Redacci√≥n de textos.

‚úîÔ∏è Ayuda para escribir o corregir c√≥digo.

‚úîÔ∏è Resumir documentos.

‚úîÔ∏è Traducir entre idiomas.

‚úîÔ∏è Generar ideas creativas.

‚úîÔ∏è Responder preguntas t√©cnicas.

‚úîÔ∏è Automatizar tareas de atenci√≥n al cliente.

‚úîÔ∏è An√°lisis de datos o logs.

‚úÖ **En ciberseguridad:**

‚úîÔ∏è Generar payloads para pruebas.

‚úîÔ∏è Escribir scripts para pentesting.

‚úîÔ∏è Analizar logs.

‚úîÔ∏è Generar reportes.

---

### ‚úÖ ¬øC√≥mo se accede o se ‚Äúinstala‚Äù ChatGPT?

‚≠ê No se instala en tu PC como un programa cl√°sico.

‚≠ê Se usa como **servicio en la nube**:

‚úÖ Paso 1Ô∏è‚É£ ‚ûú Crear cuenta en [https://chat.openai.com](https://chat.openai.com)

‚úÖ Paso 2Ô∏è‚É£ ‚ûú Confirmar tu correo y tel√©fono.

‚úÖ Paso 3Ô∏è‚É£ ‚ûú Usar gratis (GPT-3.5) o pagar ChatGPT Plus para GPT-4.

‚úÖ Tambi√©n puedes:

‚úîÔ∏è Descargar la app en Android/iOS.

‚úîÔ∏è Iniciar sesi√≥n con tu cuenta.

---

‚úÖ **No necesitas instalar nada en tu PC** si solo quieres chatear.

---

### ‚úÖ ¬øC√≥mo se usa GPT-4 con c√≥digo Python (API)?

Si quieres usar GPT-4 **en tus propios programas**, necesitas:

‚úîÔ∏è Una **API Key de OpenAI**.

‚úîÔ∏è Instalar la librer√≠a **openai**.

---

‚úÖ **Paso 1:** Crea cuenta en OpenAI

‚úÖ Paso 2:\*\* Ve a [platform.openai.com](https://platform.openai.com)

‚úÖ Paso 3:\*\* Consigue tu **API Key**.

---

‚úÖ **Paso 4: Instalar la librer√≠a**

```
pip install openai
```

‚úÖ Para la nueva librer√≠a (2024):

```
pip install --upgrade openai
```

---

‚úÖ **Paso 5: Usar en Python**

#### ‚≠ê Ejemplo muy simple:

```python
from openai import OpenAI

client = OpenAI(api_key="TU_API_KEY")

response = client.chat.completions.create(
    model="gpt-4o",
    messages=[
        {"role": "system", "content": "Eres un asistente √∫til."},
        {"role": "user", "content": "Expl√≠came la teor√≠a de la relatividad de forma sencilla."}
    ]
)

print(response.choices[0].message.content)
```

‚úÖ Salida t√≠pica:

```
La teor√≠a de la relatividad dice que el espacio y el tiempo est√°n conectados...
```

---

‚úÖ **Explicaci√≥n paso a paso:**

‚úîÔ∏è `OpenAI` ‚ûú cliente oficial.

‚úîÔ∏è `"model": "gpt-4o"` ‚ûú usa GPT-4o (o "gpt-4" en su plan).

‚úîÔ∏è `messages` ‚ûú la conversaci√≥n.

‚úîÔ∏è Devuelve la respuesta generada.

---

### ‚úÖ ¬øQu√© modelos hay disponibles?

‚úÖ GPT-3.5 ‚ûú gratis.

‚úÖ GPT-4 ‚ûú en el plan pago (ChatGPT Plus).

‚úÖ GPT-4o ‚ûú versi√≥n m√°s r√°pida/multimodal (im√°genes + texto).

‚úÖ GPT-4 Turbo ‚ûú m√°s barato, mayor contexto.

---

‚úÖ En la API, puedes elegir:

```
model="gpt-3.5-turbo"
model="gpt-4"
model="gpt-4o"
```

---

### ‚úÖ Ejemplo un poco m√°s avanzado (resumen de texto)

‚úÖ Supongamos que tienes un texto largo:

```python
from openai import OpenAI

client = OpenAI(api_key="TU_API_KEY")

texto_largo = """
La inteligencia artificial es una rama de la inform√°tica que estudia c√≥mo lograr que las m√°quinas realicen tareas que requieren inteligencia humana...
"""

respuesta = client.chat.completions.create(
    model="gpt-4o",
    messages=[
        {"role": "system", "content": "Eres un asistente experto en res√∫menes."},
        {"role": "user", "content": f"Resume este texto en una oraci√≥n: {texto_largo}"}
    ]
)

print(respuesta.choices[0].message.content)
```

‚úÖ Salida t√≠pica:

```
La inteligencia artificial busca que las m√°quinas realicen tareas inteligentes como los humanos.
```

---

### ‚úÖ ¬øC√≥mo usar GPT-4 en terminal (sin programar)?

‚úÖ Usar ChatGPT en la web:

‚úîÔ∏è [chat.openai.com](https://chat.openai.com)

‚úîÔ∏è Escribes preguntas en el navegador.

‚úÖ Usar el Playground:

‚úîÔ∏è [platform.openai.com/playground](https://platform.openai.com/playground)

‚úîÔ∏è Ajustas par√°metros y pruebas.

‚úÖ Usar la app oficial:

‚úîÔ∏è Android / iOS.

---

### ‚úÖ Resumen r√°pido

‚≠ê **OpenAI:** empresa que desarrolla GPT.

‚≠ê **GPT-4:** modelo avanzado de lenguaje.

‚≠ê **ChatGPT:** app para usar GPT conversacional.

‚≠ê **ChatGPT-4:** ChatGPT usando GPT-4 (con plan pago).

‚≠ê **Acceso:** web, app, API.

‚≠ê **Instalaci√≥n para API:** `pip install openai`.

‚≠ê **Uso en c√≥digo:** generar texto, res√∫menes, ideas, c√≥digo, etc.

---

‚úÖ GPT-4 no es como un programa que te descargas a tu PC y corres localmente (pesa cientos de gigas).

‚úÖ Se usa **a trav√©s de la nube** ‚ûú pagas o usas el plan gratuito limitado.

---

[üîº](#√≠ndice)

---

## **163. Potenciando los Dorks con GPT-4**

### ‚úÖ ¬øQu√© es un ‚ÄúDork‚Äù?

‚úîÔ∏è Un **dork** (o Google Dork) es una consulta avanzada para motores de b√∫squeda (Google, Bing, DuckDuckGo) que aprovecha operadores especiales para encontrar informaci√≥n sensible o vulnerable.

‚úÖ Ejemplo cl√°sico:

```
site:gov filetype:xls password
```

‚úîÔ∏è Busca hojas de c√°lculo en sitios .gov que puedan contener ‚Äúpassword‚Äù.

---

‚úÖ Otros operadores de dorks:

- **site:** restringe a un dominio
- **inurl:** busca en la URL
- **intitle:** busca en el t√≠tulo de la p√°gina
- **filetype:** busca tipos de archivos
- **intext:** busca en el contenido

‚úÖ Objetivo de un dork:

- Encontrar archivos sensibles
- Encontrar paneles de administraci√≥n
- Descubrir directorios expuestos
- Realizar OSINT

---

### ‚úÖ ¬øQu√© significa ‚ÄúPotenciar los Dorks con GPT-4‚Äù?

‚úÖ Normalmente, un hacker √©tico crea dorks manualmente combinando operadores.

‚≠ê GPT-4 puede ayudarte a:

‚úîÔ∏è Generar **variantes nuevas** autom√°ticamente

‚úîÔ∏è **Personalizar** dorks para un objetivo (dominio, pa√≠s, tecnolog√≠a)

‚úîÔ∏è **Filtrar o mejorar** consultas para ser m√°s efectivas

‚úîÔ∏è Ahorrar **tiempo** en OSINT

‚úÖ Es como tener un asistente que:

üß† Entiende patrones de dorks

üß† Sugiere combinaciones creativas

üß† Adapta las consultas a tu objetivo

---

‚úÖ Ejemplo de **uso humano**:

> "GPT, dame 10 dorks para buscar archivos .pdf con contrase√±as en sitios .edu"

‚úÖ Respuesta generada:

```
site:.edu filetype:pdf intext:password
site:.edu filetype:pdf "confidential"
site:.edu inurl:admin filetype:pdf
...
```

‚úÖ ‚ûú M√°s r√°pido, m√°s creativo, m√°s adaptado.

---

### ‚úÖ ¬øPara qu√© sirve en Hacking √âtico?

‚úîÔ∏è OSINT m√°s efectivo.

‚úîÔ∏è Recon m√°s automatizado.

‚úîÔ∏è Bug bounty m√°s r√°pido.

‚úîÔ∏è Red Teaming con menos trabajo manual.

‚úîÔ∏è Reportes m√°s profesionales (con mejores b√∫squedas).

---

‚úÖ Ejemplo de usos pr√°cticos:

‚≠ê Encontrar endpoints ocultos

‚≠ê Buscar configuraciones expuestas

‚≠ê Encontrar backups

‚≠ê Descubrir leaks en sites espec√≠ficos

---

### ‚úÖ ¬øC√≥mo funciona t√©cnicamente?

‚úÖ GPT-4 = un **modelo de lenguaje** capaz de completar o generar texto.

‚úÖ T√∫ defines **el prompt** ‚ûú GPT genera **la lista de dorks**.

---

‚úÖ En t√©rminos t√©cnicos:

üß≠ **Entrada (prompt):**

```
"Dame 10 dorks para buscar archivos .sql con contrase√±as en sitios .gov"
```

üß≠ **Salida (respuesta GPT):**

```
site:.gov filetype:sql intext:password
site:.gov inurl:backup filetype:sql
...
```

---

‚úÖ As√≠ puedes **automatizar**:

- Generaci√≥n masiva de dorks
- Personalizaci√≥n por objetivo
- Variaci√≥n creativa para evadir filtros

---

### ‚úÖ ¬øC√≥mo se instala para usar en Python?

Para acceder a GPT-4 necesitas:

‚úÖ Una cuenta en [OpenAI](https://platform.openai.com)

‚úÖ Obtener **API Key**

---

‚úÖ Librer√≠a oficial en Python:

```
pip install --upgrade openai
```

‚úÖ Verificar:

```
python --version
```

‚úÖ Compatible con Python 3.8+

---

### ‚úÖ Preparar el entorno en Python

‚úÖ Crear archivo `.env` (opcional, para guardar tu clave):

```
OPENAI_API_KEY="tu_api_key_aqui"
```

‚úÖ Instalar dotenv si quieres:

```
pip install python-dotenv
```

‚úÖ Librer√≠as a usar:

```bash
pip install openai python-dotenv
```

---

### ‚úÖ C√≥digo en Python s√∫per simple

‚úÖ **Ejemplo: Generar 5 dorks con GPT-4**

---

#### üü¢ Paso 1Ô∏è‚É£ Importar librer√≠as

```python
from openai import OpenAI
import os
```

---

#### üü¢ Paso 2Ô∏è‚É£ Configurar la API Key

‚úÖ Manera directa:

```python
client = OpenAI(api_key="TU_API_KEY_AQUI")
```

‚úÖ O si usas `.env`:

```python
from dotenv import load_dotenv
load_dotenv()
client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))
```

---

#### üü¢ Paso 3Ô∏è‚É£ Definir el prompt

‚úÖ Ejemplo:

```python
prompt_usuario = """
Dame 5 Google Dorks para buscar archivos .sql con contrase√±as en sitios .gov.
Hazlos variados y creativos.
"""
```

---

#### üü¢ Paso 4Ô∏è‚É£ Llamar a GPT-4

```python
respuesta = client.chat.completions.create(
    model="gpt-4o",  # o "gpt-4"
    messages=[
        {"role": "system", "content": "Eres un experto en hacking √©tico y OSINT."},
        {"role": "user", "content": prompt_usuario}
    ]
)
```

---

#### üü¢ Paso 5Ô∏è‚É£ Imprimir resultado

```python
print("Dorks generados por GPT-4:\n")
print(respuesta.choices[0].message.content)
```

---

‚úÖ üîµ **Posible salida:**

```
1. site:.gov filetype:sql intext:password
2. site:.gov inurl:backup filetype:sql
3. site:.gov "database dump" filetype:sql
4. site:.gov filetype:sql "confidential"
5. site:.gov intext:"admin password" filetype:sql
```

---

‚úÖ **Explicaci√≥n del resultado:**

- GPT-4 combin√≥ operadores para generar dorks.
- Variaciones creativas adaptadas al objetivo.
- Evita repetir lo mismo.

---

### ‚úÖ Personalizar el prompt

‚úÖ Puedes cambiar f√°cilmente:

‚≠ê Por pa√≠s:

```
"Dame 10 dorks para buscar archivos .pdf confidenciales en sitios .pe"
```

‚≠ê Por tecnolog√≠a:

```
"Dame 5 dorks para encontrar paneles de admin en WordPress"
```

‚≠ê Por archivo:

```
"Dame 5 dorks para archivos .xlsx con datos bancarios"
```

‚úÖ GPT-4 se adapta.

---

### ‚úÖ Ejemplo m√°s avanzado: generar y guardar en CSV

‚úÖ Instalar pandas:

```
pip install pandas
```

‚úÖ C√≥digo:

```python
import pandas as pd

dorks_generados = respuesta.choices[0].message.content.split("\n")

df = pd.DataFrame({'dork': dorks_generados})
df.to_csv("dorks_gpt4.csv", index=False)

print("Dorks guardados en dorks_gpt4.csv")
```

---

‚úÖ Resultado:

‚úîÔ∏è Archivo **dorks_gpt4.csv** con tu lista.

‚úîÔ∏è Puedes cargarlo en Burp Suite, recon tools, etc.

---

### ‚úÖ Idea a√∫n m√°s PRO

‚úÖ Loop en Python:

‚úîÔ∏è Generar 50 dorks en lotes de 10.

‚úîÔ∏è Filtrar por longitud o palabras clave.

‚úîÔ∏è Guardar todo en un repositorio.

---

‚úÖ Concepto:

‚≠ê Usar GPT-4 como **asistente de OSINT**

‚≠ê Automatizar la generaci√≥n de payloads para Google, Bing, DuckDuckGo

---

### ‚úÖ Resumen para principiantes

‚úÖ OpenAI ‚ûú empresa y API.

‚úÖ GPT-4 ‚ûú modelo de lenguaje avanzado.

‚úÖ Potenciar dorks ‚ûú usar GPT-4 para:

- Generarlos autom√°ticamente
- Variarlos
- Adaptarlos al objetivo

‚úÖ Instalaci√≥n f√°cil:

```
pip install --upgrade openai python-dotenv
```

‚úÖ C√≥digo muy simple:

```python
from openai import OpenAI
client = OpenAI(api_key="TU_API_KEY")
...
```

‚úÖ Resultado ‚ûú cientos de dorks nuevos para OSINT o pentesting.

---

### ‚úÖ ¬øPara qu√© sirve en hacking √©tico?

‚úîÔ∏è Reconocimiento m√°s eficaz.

‚úîÔ∏è Ahorra tiempo creando queries.

‚úîÔ∏è Resultados personalizados.

‚úîÔ∏è Automatizaci√≥n para bug bounty o auditor√≠as.

---

[üîº](#√≠ndice)

---

## **164. Google Hacking con Inteligencia Artificial**

### ‚úÖ ¬øQu√© es Google Hacking?

‚≠ê **Google Hacking** es el arte de usar operadores de b√∫squeda avanzados en Google para encontrar informaci√≥n sensible, mal configurada o expuesta de forma involuntaria.

‚úÖ Ejemplos b√°sicos:

- `site:.gov filetype:xls password`

  > Archivos de Excel con "password" en sitios .gov

- `intitle:index.of "backup"`

  > Directorios expuestos con backups

- `inurl:admin`

  > URLs con "admin" para posibles paneles de administraci√≥n

---

‚úÖ **Usos √©ticos:**

‚úîÔ∏è OSINT (inteligencia de fuentes abiertas)

‚úîÔ∏è Pentesting (reconocimiento)

‚úîÔ∏è Bug Bounty (hallar vulnerabilidades)

‚úîÔ∏è Auditor√≠as de exposici√≥n en Internet

---

‚úÖ Los **dorks** = las ‚Äúqueries‚Äù avanzadas que usas en Google.

---

### ‚úÖ ¬øQu√© significa ‚ÄúGoogle Hacking con IA‚Äù?

**Idea clave:**

‚úÖ Usar **Inteligencia Artificial (IA)** para **ayudarte a generar, personalizar o mejorar** tus Google Dorks.

‚úÖ En vez de hacerlos todos t√∫ manualmente, la IA te puede:

‚≠ê Generar dorks creativos y variados

‚≠ê Personalizarlos para dominios o pa√≠ses espec√≠ficos

‚≠ê Filtrarlos por utilidad

‚≠ê Crear grandes listas para automatizar OSINT

---

**Ejemplo de uso:**

> T√∫ dices:
>
> ‚ÄúDame 10 dorks para buscar archivos SQL con passwords en sitios .edu‚Äù

‚úîÔ∏è IA genera:

```
site:.edu filetype:sql intext:password
site:.edu inurl:backup filetype:sql
site:.edu "database dump" filetype:sql
...
```

‚úÖ Resultado: _ahorro de tiempo y mejores resultados_.

---

### ‚úÖ ¬øPara qu√© sirve en Hacking √âtico?

‚úîÔ∏è Reconocer m√°s r√°pido objetivos o vulnerabilidades.

‚úîÔ∏è Encontrar informaci√≥n expuesta.

‚úîÔ∏è Automatizar la parte aburrida del OSINT.

‚úîÔ∏è Personalizar dorks para un cliente o dominio.

‚úîÔ∏è Ser m√°s creativo y efectivo.

---

‚úÖ Escenarios reales:

‚≠ê Auditor√≠a de un sitio gubernamental.

‚≠ê Red Teaming (sin alertar al target).

‚≠ê Preparar un bug bounty.

‚≠ê Crear un reporte profesional.

---

### ‚úÖ ¬øC√≥mo se ‚Äúinstala‚Äù o se prepara?

¬°Ojo! La IA (como GPT-4) no se instala en tu PC como un programa local.

‚úÖ GPT-4 se usa **en la nube (API)**.

‚úÖ Para hacerlo en **Python** necesitas:

‚úîÔ∏è Una **API Key** de OpenAI (desde [https://platform.openai.com/](https://platform.openai.com/))

‚úîÔ∏è Instalar la librer√≠a oficial:

```
pip install --upgrade openai
```

‚úÖ Para guardar la clave de forma segura (opcional):

```
pip install python-dotenv
```

---

‚úÖ Resumen de instalaci√≥n:

```bash
pip install --upgrade openai python-dotenv
```

‚úÖ Verificar:

```bash
python --version
```

---

### ‚úÖ ¬øC√≥mo funciona con GPT-4?

‚≠ê GPT-4 es un modelo de lenguaje **muy grande**.

‚≠ê Le das **prompts** ‚ûú genera texto con l√≥gica.

‚≠ê Puedes pedirle que act√∫e como un **generador de dorks**.

---

‚úÖ Ejemplo simple:

**Prompt:**

```
Dame 5 Google Dorks para buscar documentos PDF con contrase√±as en sitios .gov
```

**GPT-4 genera:**

```
site:.gov filetype:pdf intext:password
site:.gov filetype:pdf "confidential"
site:.gov "login credentials" filetype:pdf
...
```

‚úÖ IA = _tu asistente de OSINT_.

---

### ‚úÖ Ejemplo completo en Python (f√°cil)

‚úÖ Paso 1Ô∏è‚É£ Importar librer√≠as:

```python
from openai import OpenAI
import os
```

---

‚úÖ Paso 2Ô∏è‚É£ Configurar la API Key

‚úîÔ∏è Opci√≥n directa (no recomendado en producci√≥n):

```python
client = OpenAI(api_key="TU_API_KEY_AQUI")
```

‚úîÔ∏è Opci√≥n segura (usando .env):

1Ô∏è‚É£ Crear archivo `.env`:

```
OPENAI_API_KEY="TU_API_KEY_AQUI"
```

2Ô∏è‚É£ C√≥digo:

```python
from dotenv import load_dotenv
load_dotenv()
client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))
```

---

‚úÖ Paso 3Ô∏è‚É£ Definir el prompt

```python
prompt_usuario = """
Eres un experto en hacking √©tico.
Genera 5 Google Dorks variados para buscar archivos SQL con contrase√±as en sitios .edu.
"""
```

---

‚úÖ Paso 4Ô∏è‚É£ Llamar a GPT-4

```python
respuesta = client.chat.completions.create(
    model="gpt-4o",
    messages=[
        {"role": "system", "content": "Eres un generador de Google Dorks para OSINT."},
        {"role": "user", "content": prompt_usuario}
    ]
)
```

---

‚úÖ Paso 5Ô∏è‚É£ Imprimir resultado

```python
print("\nDorks sugeridos por GPT-4:\n")
print(respuesta.choices[0].message.content)
```

---

‚úÖ Resultado t√≠pico:

```
1. site:.edu filetype:sql intext:password
2. site:.edu inurl:backup filetype:sql
3. site:.edu "database dump" filetype:sql
4. site:.edu filetype:sql "confidential"
5. site:.edu intext:"admin password" filetype:sql
```

---

### ‚úÖ Personalizando el Prompt

‚≠ê Puedes pedir:

‚úÖ Por pa√≠s:

```
Dame 10 dorks para buscar archivos PDF confidenciales en sitios .pe
```

‚úÖ Por tecnolog√≠a:

```
Dame 5 dorks para encontrar paneles de admin en WordPress
```

‚úÖ Por archivo:

```
Dame 5 dorks para archivos .xlsx con datos bancarios
```

‚úÖ GPT-4 ‚ûú adapta su respuesta.

---

### ‚úÖ Generar y Guardar en CSV

‚úÖ Instalar pandas:

```
pip install pandas
```

‚úÖ C√≥digo:

```python
import pandas as pd

# Dividir la respuesta en l√≠neas
dorks = respuesta.choices[0].message.content.split("\n")

# Guardar en CSV
df = pd.DataFrame({'dork': dorks})
df.to_csv("dorks_generados.csv", index=False)

print("‚úÖ Archivo dorks_generados.csv creado.")
```

‚úÖ Resultado:

‚úîÔ∏è Archivo con todos los dorks generados.

‚úîÔ∏è F√°cil de usar en Burp, recon tools, reportes.

---

### ‚úÖ Usos avanzados

‚úÖ GPT-4 puede ayudarte a:

‚≠ê Generar dorks por industria (bancos, gobiernos, universidades).

‚≠ê Crear listas para Google, Bing, DuckDuckGo.

‚≠ê Filtrar resultados autom√°ticamente.

‚≠ê Integrarlo en pipelines de OSINT.

‚≠ê Hacer un bot para Telegram que genere dorks on-demand.

---

‚úÖ Ejemplo de prompt m√°s avanzado:

```
Crea 10 Google Dorks para encontrar p√°ginas de login de aplicaciones bancarias en Per√∫. Incluye variaciones creativas.
```

‚úÖ GPT-4 devuelve:

```
site:.pe inurl:login bank
site:.pe intitle:"banking login"
...
```

---

### ‚úÖ Resumen r√°pido

‚≠ê **Google Hacking:** usar operadores de b√∫squeda avanzados.

‚≠ê **IA (GPT-4):** genera dorks m√°s creativos, personalizados y variados.

‚≠ê **Ventajas:** ahorra tiempo, mejora resultados, automatiza OSINT.

‚úÖ **Instalaci√≥n en Python:**

```
pip install --upgrade openai python-dotenv
```

‚úÖ **C√≥digo b√°sico:**

```python
from openai import OpenAI
client = OpenAI(api_key="TU_API_KEY")
respuesta = client.chat.completions.create(
    model="gpt-4o",
    messages=[
        {"role": "system", "content": "Eres un generador de Google Dorks."},
        {"role": "user", "content": "Dame 5 dorks para buscar archivos PDF confidenciales en sitios .gov"}
    ]
)
print(respuesta.choices[0].message.content)
```

---

‚úÖ **Resultado:**

‚úîÔ∏è Listas de dorks personalizadas.

‚úîÔ∏è Autom√°ticas.

‚úîÔ∏è Profesionales.

---

[üîº](#√≠ndice)

---

## **165. Filtrado de informaci√≥n con Expresiones Regulares**

### ‚úÖ ¬øQu√© son las Expresiones Regulares (Regex)?

Las **expresiones regulares** son patrones de b√∫squeda usados para **encontrar, validar, reemplazar o extraer texto**.

Son como ‚Äúfiltros inteligentes‚Äù para cadenas de texto.

---

#### üìå Ejemplos:

| Tarea                 | Expresi√≥n Regular (Ejemplo)                           |     |     |
| --------------------- | ----------------------------------------------------- | --- | --- |
| Detectar email        | `\b[\w.-]+@[\w.-]+\.\w{2,4}\b`                        |     |     |
| Detectar IP           | `\b(?:\d{1,3}\.){3}\d{1,3}\b`                         |     |     |
| Buscar URL            | `https?://[^\s]+`                                     |     |     |
| Detectar n√∫meros      | `\d+`                                                 |     |     |
| Buscar palabras clave | `(?i)password                 \| clave \| contrase√±a` |

---

### ‚úÖ ¬øPara qu√© sirven en Ciberseguridad y Hacking √âtico?

‚úÖ Analizar archivos de logs

‚úÖ Extraer emails, IPs o contrase√±as filtradas

‚úÖ Buscar tokens, claves API

‚úÖ Detectar patrones en texto (como comandos sospechosos)

‚úÖ Filtrar resultados de scrapers o dorks

---

#### üìå Escenario real:

Tienes un archivo de texto con 10,000 l√≠neas y necesitas extraer **solo los correos electr√≥nicos** o las **URLs con login** ‚Üí **Regex lo hace en segundos.**

---

### ‚úÖ ¬øC√≥mo se instalan y usan en Python?

¬°No necesitas instalar nada extra!

‚úÖ Python ya incluye el m√≥dulo `re` para expresiones regulares.

Solo importa:

```python
import re
```

---

### ‚úÖ Ejemplos muy f√°ciles

---

#### üìå Ejemplo 1: Buscar un email en un texto

```python
import re

texto = "Hola, puedes contactarme en contacto@ejemplo.com para m√°s detalles."

patron_email = r"\b[\w.-]+@[\w.-]+\.\w{2,4}\b"

resultado = re.findall(patron_email, texto)

print("Correo encontrado:", resultado)
```

üü¢ Salida:

```
Correo encontrado: ['contacto@ejemplo.com']
```

---

#### üìå Ejemplo 2: Detectar todas las direcciones IP en un archivo

```python
texto = """
Intento desde 192.168.0.1 fallido.
Nuevo acceso desde 10.0.0.55 autorizado.
"""

patron_ip = r"\b(?:\d{1,3}\.){3}\d{1,3}\b"

ips = re.findall(patron_ip, texto)

print("IPs encontradas:", ips)
```

üü¢ Salida:

```
IPs encontradas: ['192.168.0.1', '10.0.0.55']
```

---

#### üìå Ejemplo 3: Buscar l√≠neas que contengan ‚Äúpassword‚Äù o ‚Äúclave‚Äù

```python
texto = """
password=123456
usuario=admin
clave: qwerty
"""

patron = r"(?i)(password|clave).+"

resultados = re.findall(patron, texto)

print("Coincidencias:", resultados)
```

---

#### üìå Ejemplo 4: Extraer URLs de texto

```python
texto = """
Visita nuestra web en https://www.misitio.com o http://login.site.org para m√°s info.
"""

patron_url = r"https?://[^\s]+"

urls = re.findall(patron_url, texto)

print("URLs encontradas:", urls)
```

üü¢ Salida:

```
['https://www.misitio.com', 'http://login.site.org']
```

---

### ‚úÖ ¬øC√≥mo integrarlo con archivos?

#### üìå Leer un archivo `.txt` y extraer correos

```python
with open("data.txt", "r", encoding="utf-8") as archivo:
    contenido = archivo.read()

patron_email = r"\b[\w.-]+@[\w.-]+\.\w{2,4}\b"
correos = re.findall(patron_email, contenido)

print("Correos encontrados:", correos)
```

---

### ‚úÖ ¬øC√≥mo integrar con scraping?

Sup√≥n que obtienes c√≥digo HTML o texto desde una web, puedes usar regex para buscar datos sensibles:

```python
html = """
<form>
  <input type="text" name="user">
  <input type="password" name="pass">
</form>
"""

# Detectar campos de contrase√±as en formularios
patron = r'<input.*?type="password".*?>'

resultados = re.findall(patron, html)

print("Campos de contrase√±a encontrados:", resultados)
```

---

### ‚úÖ Tabla de patrones √∫tiles en Regex

| Tarea          | Regex                                                                           | Descripci√≥n                        |     |     |
| -------------- | ------------------------------------------------------------------------------- | ---------------------------------- | --- | --- |
| N√∫mero         | `\d+`                                                                           | Uno o m√°s d√≠gitos                  |     |     |
| Palabra        | `\w+`                                                                           | Letras, n√∫meros y guiones bajos    |     |     |
| Espacios       | `\s+`                                                                           | Espacios, tabs, saltos de l√≠nea    |     |     |
| Email          | `[\w.-]+@[\w.-]+\.\w{2,4}`                                                      | Emails simples                     |     |     |
| URL            | `https?://[^\s]+`                                                               | URLs que empiezan con http o https |     |     |
| IP             | `(?:\d{1,3}\.){3}\d{1,3}`                                                       | Direcci√≥n IP                       |     |     |
| Palabras clave | `(?i)(clave               \| password                           \| contrase√±a)` | Busca sin distinguir may√∫sculas    |

---

### ‚úÖ ¬øC√≥mo se prueba Regex f√°cilmente?

Puedes practicar en l√≠nea en estas webs:

- [regex101.com](https://regex101.com/)
- [pythex.org](https://pythex.org/)
- [regexr.com](https://regexr.com/)

‚úÖ All√≠ puedes ver qu√© coincide con tu patr√≥n, l√≠nea por l√≠nea.

---

### ‚úÖ ¬øC√≥mo detectar vulnerabilidades con regex?

Sup√≥n que haces scraping o buscas archivos filtrados (ej: leaks de contrase√±as), puedes buscar con regex:

‚úÖ API keys:

```python
r"AIza[0-9A-Za-z-_]{35}"   # Google API Key
```

‚úÖ Tokens JWT:

```python
r"eyJ[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+"
```

‚úÖ Contrase√±as en texto:

```python
r"(password|clave|contrase√±a)\s*[=:]\s*\S+"
```

---

### ‚úÖ Resumen paso a paso

| Paso | Acci√≥n                                                      |
| ---- | ----------------------------------------------------------- |
| 1Ô∏è‚É£   | Aseg√∫rate de tener Python instalado                         |
| 2Ô∏è‚É£   | Usa `import re` (sin instalar nada)                         |
| 3Ô∏è‚É£   | Define el patr√≥n que quieres buscar                         |
| 4Ô∏è‚É£   | Usa `re.findall(patron, texto)` para obtener los resultados |
| 5Ô∏è‚É£   | Filtra datos en logs, webs, correos, IPs, etc.              |

---

[üîº](#√≠ndice)

---

## **166. Filtrado de informaci√≥n con Inteligencia Artificial**

### ‚úÖ ¬øQu√© es ‚ÄúFiltrado de Informaci√≥n con Inteligencia Artificial‚Äù?

**Filtrar informaci√≥n** = Separar lo que te interesa del ‚Äúruido‚Äù.

‚úÖ En ciberseguridad, scraping, an√°lisis de datos ‚ûú recibes _much√≠sima_ informaci√≥n (logs, resultados de dorks, texto web).

‚úÖ Necesitas **quedarte solo con lo √∫til**.

‚úÖ Filtrar = buscar, extraer, clasificar, resumir, descartar.

---

‚úÖ **Con IA** (como GPT-4):

‚úîÔ∏è No usas reglas fijas duras (regex sola, if/else).

‚úîÔ∏è Puedes pedirle cosas m√°s complejas en lenguaje natural.

‚úîÔ∏è Puede entender contexto y lenguaje humano.

‚úîÔ∏è Genera res√∫menes, clasifica, organiza, etiqueta.

---

**üí° Ejemplo comparativo:**

| M√©todo | Qu√© hace                                                                                     |
| ------ | -------------------------------------------------------------------------------------------- |
| Regex  | ‚ÄúDame todas las l√≠neas con la palabra ‚Äòpassword‚Äô.‚Äù                                           |
| IA     | ‚ÄúL√©ete este archivo y dime qu√© l√≠neas parecen contener credenciales o informaci√≥n sensible.‚Äù |

---

### ‚úÖ ¬øPara qu√© sirve en Ciberseguridad / OSINT?

‚úÖ Clasificar resultados de scraping (dorks) ‚ûú separar √∫tiles de basura.

‚úÖ Extraer indicadores de compromiso (IPs, URLs maliciosas).

‚úÖ Resumir logs o datos largos.

‚úÖ Detectar leaks (contrase√±as, tokens, claves API).

‚úÖ Generar reportes resumidos para clientes.

---

‚úÖ Usos t√≠picos:

- Filtrar cientos de resultados de Google Dorks
- Revisar dumps de bases de datos expuestas
- Analizar logs enormes
- Separar datos v√°lidos en OSINT

---

### ‚úÖ ¬øC√≥mo se hace con GPT-4? (Idea sencilla)

‚úîÔ∏è T√∫ le env√≠as texto.

‚úîÔ∏è Le das un **prompt** claro.

‚úîÔ∏è GPT-4 responde con lo que filtra o resume.

---

‚úÖ üí° Ejemplo de prompt:

> ‚ÄúAnaliza este texto y extrae solo las l√≠neas que contengan contrase√±as o claves API.‚Äù

---

‚úÖ GPT-4 es **multitarea**:

‚úîÔ∏è Filtrar contenido

‚úîÔ∏è Resumir

‚úîÔ∏è Clasificar

‚úîÔ∏è Etiquetar

‚úîÔ∏è Reescribir en formato JSON

---

### ‚úÖ Instalaci√≥n en Python

‚úÖ GPT-4 se usa **en la nube**, no se instala en tu PC como un modelo gigante.

‚úÖ Necesitas:

‚úîÔ∏è Una **API Key** de OpenAI ‚ûú [platform.openai.com](https://platform.openai.com)

‚úîÔ∏è Instalar la librer√≠a oficial:

```bash
pip install --upgrade openai
```

‚úÖ Opcional para guardar la clave en un archivo `.env`:

```bash
pip install python-dotenv
```

---

‚úÖ Estructura de tu proyecto:

```
mi-proyecto/
  |-- filtrar.py
  |-- .env
```

---

‚úÖ Ejemplo de archivo `.env`:

```
OPENAI_API_KEY="tu_api_key_aqui"
```

---

### ‚úÖ C√≥digo Python muy f√°cil

‚úÖ **Importar librer√≠as:**

```python
from openai import OpenAI
import os
from dotenv import load_dotenv
```

‚úÖ **Cargar la API Key:**

```python
load_dotenv()
client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))
```

---

‚úÖ **Definir texto con datos mixtos:**

```python
texto = """
usuario: admin
password: 123456
clave API: sk-abcdef12345
correo: ejemplo@correo.com
nota: no compartir esta info
"""
```

---

‚úÖ **Definir el prompt para filtrar:**

```python
prompt = f"""
Analiza el siguiente texto y extrae solo las l√≠neas que contienen contrase√±as o claves API.

Texto:
{texto}
"""
```

---

‚úÖ **Llamar a GPT-4 para filtrar:**

```python
respuesta = client.chat.completions.create(
    model="gpt-4o",
    messages=[
        {"role": "system", "content": "Eres un asistente experto en ciberseguridad."},
        {"role": "user", "content": prompt}
    ]
)
```

---

‚úÖ **Imprimir resultado:**

```python
print("\nRESULTADO FILTRADO:")
print(respuesta.choices[0].message.content)
```

---

‚úÖ **Posible salida:**

```
password: 123456
clave API: sk-abcdef12345
```

---

**üí° F√≠jate:**

‚úîÔ∏è GPT-4 entendi√≥ el texto.

‚úîÔ∏è Extrajo solo lo que pediste.

‚úîÔ∏è Ignor√≥ correos o notas irrelevantes.

---

### ‚úÖ Otro ejemplo: Clasificaci√≥n

‚úÖ Texto mixto:

```python
texto = """
192.168.1.1 - Acceso permitido
10.0.0.5 - Intento fallido
usuario: admin
password=letmein
clave API: sk-abcde
"""
```

‚úÖ Prompt m√°s avanzado:

```python
prompt = f"""
Analiza el siguiente texto. Clasifica las l√≠neas en dos categor√≠as: 'Credenciales' y 'Logs de Acceso'.

Texto:
{texto}

Devuelve la respuesta en formato JSON.
"""
```

‚úÖ GPT-4 genera:

```
{
  "Credenciales": [
    "usuario: admin",
    "password=letmein",
    "clave API: sk-abcde"
  ],
  "Logs de Acceso": [
    "192.168.1.1 - Acceso permitido",
    "10.0.0.5 - Intento fallido"
  ]
}
```

---

‚úÖ As√≠ puedes:

‚úîÔ∏è Procesar resultados de dorks.

‚úîÔ∏è Clasificar logs.

‚úîÔ∏è Generar datos estructurados autom√°ticamente.

---

### ‚úÖ Resumen: C√≥mo se instala

‚úÖ Solo necesitas:

```
pip install --upgrade openai python-dotenv
```

‚úÖ Configurar tu `.env`:

```
OPENAI_API_KEY="tu_api_key_aqui"
```

‚úÖ Escribir tu script en Python:

‚úîÔ∏è Importar librer√≠as

‚úîÔ∏è Cargar tu API Key

‚úîÔ∏è Preparar tu texto

‚úîÔ∏è Escribir tu prompt

‚úîÔ∏è Obtener y procesar la respuesta

---

### ‚úÖ Ideas pr√°cticas para ciberseguridad

‚úÖ Filtrar dumps de contrase√±as:

```
"Filtra solo las l√≠neas que parezcan credenciales con usuario y contrase√±a."
```

‚úÖ Analizar resultados de scraping:

```
"Revisa este texto y extrae solo las URLs de login."
```

‚úÖ Resumir logs enormes:

```
"Resume los incidentes cr√≠ticos de este log en 5 l√≠neas."
```

‚úÖ Formato estructurado:

```
"Extrae emails e IPs de este texto y devu√©lvelos como JSON."
```

---

### ‚úÖ Ventajas frente a Regex puro

| Caracter√≠stica            | Regex          | IA (GPT-4)            |
| ------------------------- | -------------- | --------------------- |
| Patr√≥n fijo               | ‚úÖ Muy bueno   | ‚ö†Ô∏è No necesario       |
| Entender lenguaje natural | ‚ùå No puede    | ‚úÖ S√≠                 |
| Contexto y variaciones    | ‚ùå Limitado    | ‚úÖ Excelente          |
| Clasificaci√≥n compleja    | ‚ùå Muy dif√≠cil | ‚úÖ Muy f√°cil          |
| Salida estructurada       | ‚ùå Manual      | ‚úÖ Puede generar JSON |

---

‚úÖ **Mejor juntos:**

Usa regex para cosas muy simples y GPT-4 para filtrados m√°s complejos o contexto.

---

### ‚úÖ Bonus: Script b√°sico completo

```python
from openai import OpenAI
from dotenv import load_dotenv
import os

# Cargar API Key
load_dotenv()
client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))

# Texto de ejemplo
texto = """
usuario: admin
password=123456
API KEY: sk-test-abcde123
email: test@example.com
"""

# Prompt para filtrar credenciales
prompt = f"""
Eres un asistente de ciberseguridad. Filtra el siguiente texto y devuelve solo las l√≠neas que contengan contrase√±as o claves API.

Texto:
{texto}
"""

# Llamada a GPT
response = client.chat.completions.create(
    model="gpt-4o",
    messages=[
        {"role": "system", "content": "Eres un experto en filtrado de informaci√≥n sensible."},
        {"role": "user", "content": prompt}
    ]
)

# Mostrar resultado
print("\nRESULTADO FILTRADO:\n")
print(response.choices[0].message.content)
```

---

‚úÖ Salida t√≠pica:

```
password=123456
API KEY: sk-test-abcde123
```

---

### ‚úÖ Resumen para ti:

‚úÖ IA ‚ûú entiende texto como un humano.

‚úÖ Puedes darle instrucciones naturales.

‚úÖ GPT-4 ‚ûú filtra, clasifica, resume, estructura.

‚úÖ Instalaci√≥n ‚ûú solo `openai` y `python-dotenv`.

‚úÖ C√≥digo ‚ûú s√∫per simple, solo defines tu prompt.

---

**Conclusi√≥n:**

‚úÖ Filtrar con IA = ahorrar horas de trabajo, hacer OSINT m√°s f√°cil, resultados m√°s √∫tiles.

---

[üîº](#√≠ndice)

---

## **167. Integra SmartSearch con NinjaDork**

### ‚úÖ ¬øQu√© es NinjaDork?

‚≠ê NinjaDork es una **herramienta para hacking √©tico / OSINT** dise√±ada para:

‚úîÔ∏è Generar autom√°ticamente **Google Dorks**.

‚úîÔ∏è Organizar dorks por categor√≠as (admin panels, backups, passwords, etc.).

‚úîÔ∏è Facilitar b√∫squedas avanzadas para **encontrar informaci√≥n sensible en la web**.

‚úÖ Objetivo principal:

> Ahorrar tiempo creando queries de Google Hacking.

‚úÖ Ejemplo de dork generado por NinjaDork:

```
site:.gov filetype:xls intext:password
```

---

‚úÖ ‚úîÔ∏è Funciona t√≠picamente como **script en Python** o como **herramienta CLI** (seg√∫n la versi√≥n).

‚úÖ ‚úîÔ∏è Muchos repositorios en GitHub (c√≥digo abierto).

---

### ‚úÖ ¬øQu√© es SmartSearch?

‚úÖ SmartSearch NO es _una herramienta_ oficial √∫nica: es m√°s un **concepto** o patr√≥n que se usa en OSINT / recon:

‚úîÔ∏è ‚ÄúSmart Search‚Äù = usar b√∫squedas **m√°s inteligentes**, personalizadas y filtradas.

‚úîÔ∏è Incluye:

- Variantes creativas de dorks
- Uso de operadores avanzados (inurl, intitle, site, filetype)
- Filtrado sem√°ntico (temas, pa√≠ses, tipos de archivos)
- Combinaci√≥n con inteligencia artificial para sugerencias

---

‚úÖ Algunas herramientas o scripts usan ‚ÄúSmartSearch‚Äù como nombre o m√≥dulo:

‚≠ê Idea:

> Genera b√∫squedas adaptadas a tu objetivo en lugar de dorks gen√©ricos.

‚úÖ Ejemplo de SmartSearch:

```
site:.pe filetype:pdf "confidencial"
```

‚úîÔ∏è Es m√°s dirigido y adaptado.

---

‚úÖ **Resumen:**

‚úîÔ∏è NinjaDork = Generador autom√°tico de Dorks.

‚úîÔ∏è SmartSearch = B√∫squedas personalizadas e inteligentes (operadores + IA).

---

### ‚úÖ ¬øPara qu√© sirve combinarlos?

‚≠ê Juntos ‚Üí **workflow m√°s potente para OSINT y Hacking √âtico**:

‚úÖ NinjaDork ‚ûú genera decenas o cientos de dorks base.

‚úÖ SmartSearch ‚ûú filtra, adapta, personaliza, mejora.

---

‚úÖ Uso real:

1Ô∏è‚É£ NinjaDork genera 100 dorks.

2Ô∏è‚É£ SmartSearch filtra:

- Pa√≠s espec√≠fico
- Archivo espec√≠fico
- Tema o industria

  3Ô∏è‚É£ Resultado ‚ûú lista de 10-20 dorks ultra relevantes para tu objetivo.

---

‚úÖ Otra forma:

- NinjaDork ‚ûú salida inicial.
- GPT-4 (o SmartSearch con IA) ‚ûú ‚Äúhazlos m√°s creativos‚Äù o ‚Äúaj√∫stalos a .edu‚Äù.

---

### ‚úÖ ¬øC√≥mo se ‚Äúinstala‚Äù o prepara el entorno?

‚úÖ **Paso 1:** Tener Python instalado (3.8+ recomendado):

```bash
python --version
```

‚úÖ **Paso 2:** Crear un entorno virtual (opcional pero recomendado):

```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
```

‚úÖ **Paso 3:** Instalar dependencias t√≠picas:

```bash
pip install requests openai python-dotenv
```

‚úÖ **Paso 4:** Descargar o clonar NinjaDork

Ejemplo con Git:

```bash
git clone https://github.com/someuser/NinjaDork.git
cd NinjaDork
```

‚úÖ Muchas versiones son scripts `.py`, a veces `.sh`.

---

‚úÖ **Uso t√≠pico:**

```bash
python ninja_dork.py -o output.txt
```

‚úîÔ∏è Genera archivo `output.txt` con docenas o cientos de dorks.

---

### ‚úÖ Ejemplo de flujo manual

‚úîÔ∏è NinjaDork genera:

```
site:.com inurl:admin
site:.edu filetype:pdf intext:password
site:.gov intitle:"index of"
...
```

---

‚úîÔ∏è Ahora quieres **SmartSearch**:

> Filtra los que:
>
> - Sean para Per√∫ (.pe)
>
> - Busquen PDFs

‚úÖ Filtrados manualmente:

```
site:.pe filetype:pdf intext:password
site:.pe intitle:"index of"
```

---

### ‚úÖ Integrarlo con IA (SmartSearch con GPT)

‚úÖ ‚úîÔ∏è Vamos a hacerlo en **Python**:

‚úÖ Supongamos que **NinjaDork** gener√≥ este archivo:

```
dorks.txt:
site:.com inurl:admin
site:.edu filetype:pdf intext:password
site:.gov intitle:"index of"
```

---

‚úÖ C√≥digo para filtrar con GPT-4:

#### üü¢ 1Ô∏è‚É£ Instalar:

```bash
pip install openai python-dotenv
```

---

#### üü¢ 2Ô∏è‚É£ Crear `.env`:

```
OPENAI_API_KEY="tu_api_key_aqui"
```

---

#### üü¢ 3Ô∏è‚É£ C√≥digo ejemplo en `smartsearch_filter.py`:

```python
import os
from openai import OpenAI
from dotenv import load_dotenv

# Cargar clave
load_dotenv()
client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))

# Leer archivo de dorks
with open("dorks.txt", "r", encoding="utf-8") as f:
    dorks = f.read()

# Prompt para IA
prompt = f"""
Eres un experto en OSINT y Google Hacking. A continuaci√≥n tienes una lista de dorks.

Filtra solo los que sean √∫tiles para buscar archivos PDF confidenciales en sitios .pe. Si no hay ninguno, crea variantes adaptadas.

Lista:
{dorks}
"""

# Llamada a GPT
respuesta = client.chat.completions.create(
    model="gpt-4o",
    messages=[
        {"role": "system", "content": "Eres un asistente experto en filtrado de Google Dorks."},
        {"role": "user", "content": prompt}
    ]
)

# Resultado
print("\nDorks filtrados o generados:\n")
print(respuesta.choices[0].message.content)
```

---

‚úÖ ¬øQu√© hace esto?

‚úîÔ∏è Lee el output de NinjaDork.

‚úîÔ∏è Env√≠a el contenido a GPT.

‚úîÔ∏è GPT filtra o adapta a tu criterio (‚ÄúPDF en .pe‚Äù).

‚úîÔ∏è Devuelve una lista m√°s relevante.

---

### ‚úÖ Resultado t√≠pico:

```
site:.pe filetype:pdf intext:password
site:.pe filetype:pdf "confidencial"
site:.pe inurl:documents filetype:pdf
```

---

‚úÖ Ahora tienes:

‚úîÔ∏è Generaci√≥n masiva (NinjaDork) ‚ûú cientos de dorks.

‚úîÔ∏è Filtrado inteligente (SmartSearch con GPT) ‚ûú 5-10 dorks √∫tiles.

---

### ‚úÖ ¬øC√≥mo guardar los resultados?

‚úÖ Puedes guardar la salida en un archivo:

```python
with open("filtered_dorks.txt", "w", encoding="utf-8") as f:
    f.write(respuesta.choices[0].message.content)
```

---

‚úÖ Resultado:

‚úîÔ∏è Archivo `filtered_dorks.txt` con tu lista final.

---

### ‚úÖ Resumen paso a paso

| Paso | Qu√© haces                                           |
| ---- | --------------------------------------------------- |
| 1Ô∏è‚É£   | Instalas Python y pip                               |
| 2Ô∏è‚É£   | Clonas/descargas NinjaDork                          |
| 3Ô∏è‚É£   | Generas lista grande de dorks                       |
| 4Ô∏è‚É£   | Instalas openai y dotenv                            |
| 5Ô∏è‚É£   | Creas tu `.env` con API Key                         |
| 6Ô∏è‚É£   | Escribes un script para filtrado con GPT            |
| 7Ô∏è‚É£   | Ejecutas ‚ûú consigues lista filtrada y personalizada |

---

‚úÖ As√≠ integras:

‚≠ê **NinjaDork** = generaci√≥n masiva.

‚≠ê **SmartSearch con IA** = filtrado y personalizaci√≥n avanzada.

---

### ‚úÖ Variaciones m√°s avanzadas

‚úîÔ∏è Filtrar por pa√≠s, archivo, tema:

```
"Filtra solo los dorks para .gov en M√©xico que busquen archivos Excel."
```

‚úîÔ∏è Generar JSON estructurado:

```
"Devuelve la lista en formato JSON con campos: dork, objetivo, categor√≠a."
```

‚úîÔ∏è Clasificar en categor√≠as:

```
"Clasifica estos dorks en: backups, passwords, admin panels."
```

---

‚úÖ ‚ûú Puedes convertirlo en:

‚≠ê CLI con argparse

‚≠ê Webapp en Flask / Django

‚≠ê Bot para Telegram

---

### ‚úÖ Conclusi√≥n

‚úÖ NinjaDork ‚ûú genera **cantidad**.

‚úÖ SmartSearch (con IA) ‚ûú filtra y personaliza **calidad**.

‚úÖ Juntos ‚ûú OSINT m√°s r√°pido, profesional y efectivo.

---

[üîº](#√≠ndice)

---

## **168. Emulando el comportamiento humano con Selenium**

### ‚úÖ ¬øQu√© es Selenium?

**Selenium** es un **framework** que te permite **automatizar navegadores web**.

‚úîÔ∏è Abre un navegador real (Chrome, Firefox, Edge...).

‚úîÔ∏è Hace clics, escribe, navega, igual que un humano.

‚úîÔ∏è Captura contenido din√°mico (JavaScript, AJAX).

‚úÖ Es usado para:

- Pruebas autom√°ticas de sitios web.
- Scraping de sitios que requieren login o interacciones.
- Emular usuarios para OSINT (registro, b√∫squeda, etc.).
- Verificar si bots son detectados (Red Team).

---

‚úÖ üü¢ Ejemplo b√°sico de lo que hace:

- Abre Chrome.
- Va a `https://google.com`.
- Escribe ‚ÄúOpenAI‚Äù en el cuadro de b√∫squeda.
- Hace clic en "Buscar".
- Extrae resultados.

---

### ‚úÖ ¬øQu√© significa ‚Äúemular comportamiento humano‚Äù?

Los **bots** tradicionales son _r√°pidos, predecibles y f√°ciles de detectar_.

**Emular humano** significa:

‚úîÔ∏è Movimientos de mouse.

‚úîÔ∏è Pausas aleatorias.

‚úîÔ∏è Scroll en la p√°gina.

‚úîÔ∏è Escritura "lenta" como una persona.

‚úîÔ∏è Interacci√≥n real con botones o formularios.

‚úÖ Beneficio ‚ûú Evitar bloqueos / CAPTCHAs / detecci√≥n.

---

‚úÖ üü¢ Ejemplo de comparaci√≥n:

| Bot normal                  | Bot "humano" con Selenium   |
| --------------------------- | --------------------------- |
| Envia solicitud en 0.1s     | Espera 1-3s antes de buscar |
| Lee HTML sin renderizar JS  | Renderiza la p√°gina real    |
| No mueve mouse              | Mueve mouse o scroll        |
| No llena formularios reales | Usa campos del formulario   |

---

### ‚úÖ ¬øPara qu√© sirve en hacking √©tico y OSINT?

‚úÖ Automate reconnaissance:

- Buscar con Google, Bing, DuckDuckGo.
- Extraer datos de p√°ginas que bloquean scrapers simples.

‚úÖ Simular login:

- Probar contrase√±as d√©biles (con permisos, ethical testing).
- Extraer informaci√≥n interna (bug bounty / OSINT).

‚úÖ Analizar aplicaciones web:

- Ver rutas ocultas.
- Revisar contenido din√°mico.

‚úÖ Evitar detecci√≥n anti-bot:

- Selenium puede comportarse como un usuario humano.

---

### ‚úÖ ¬øC√≥mo se instala Selenium?

**‚úÖ Paso 1: Tener Python instalado**

Verificar:

```bash
python --version
```

---

**‚úÖ Paso 2: Instalar Selenium**

```bash
pip install selenium
```

---

**‚úÖ Paso 3: Descargar WebDriver**

‚≠ê Selenium necesita un **driver** que controle tu navegador.

‚úîÔ∏è Chrome ‚ûú [ChromeDriver](https://sites.google.com/chromium.org/driver/)

‚úîÔ∏è Firefox ‚ûú [GeckoDriver](https://github.com/mozilla/geckodriver/releases)

‚úîÔ∏è Edge ‚ûú [EdgeDriver](https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/)

‚úÖ Debes:

- Descargar el driver correcto para tu navegador y versi√≥n.
- Colocar el ejecutable en una carpeta conocida (opcionalmente en PATH).

---

‚úÖ **Para Chrome en Windows:**

- Baja `chromedriver.exe` ‚ûú gu√°rdalo en `C:\webdriver\chromedriver.exe`.
- En Linux/Mac ‚ûú solo coloca el binario y dale permisos.

---

### ‚úÖ C√≥digo b√°sico en Python

**‚úîÔ∏è Abrir Google y buscar algo**

```python
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
import time

# Ruta a tu ChromeDriver
PATH = "/ruta/a/chromedriver"  # Ejemplo: "C:/webdriver/chromedriver.exe"

driver = webdriver.Chrome(PATH)

driver.get("https://www.google.com")
time.sleep(2)  # Pausa para parecer humano

# Buscar la caja de texto
search_box = driver.find_element(By.NAME, "q")
search_box.send_keys("OpenAI")
time.sleep(1)  # Simula escribir pausado

search_box.send_keys(Keys.RETURN)  # Presiona Enter
time.sleep(3)

# Extraer resultados
results = driver.find_elements(By.CSS_SELECTOR, "h3")
for result in results:
    print(result.text)

driver.quit()
```

---

‚úÖ ¬øQu√© hace?

‚úîÔ∏è Abre Chrome.

‚úîÔ∏è Va a Google.

‚úîÔ∏è Escribe "OpenAI".

‚úîÔ∏è Espera, carga resultados.

‚úîÔ∏è Imprime t√≠tulos de resultados.

---

### ‚úÖ Emulando comportamiento humano

‚úÖ Selenium es muy r√°pido por defecto.

‚û°Ô∏è Debes **hacerlo m√°s humano**:

‚≠ê **a. Pausas aleatorias**

```python
import random

time.sleep(random.uniform(2, 5))
```

---

‚≠ê **b. Scroll en la p√°gina**

```python
driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")
time.sleep(2)
```

---

‚≠ê **c. Mouse over / hover**

```python
from selenium.webdriver import ActionChains

element = driver.find_element(By.CSS_SELECTOR, "h3")
actions = ActionChains(driver)
actions.move_to_element(element).perform()
time.sleep(1)
```

---

‚≠ê **d. Escritura lenta**

```python
for char in "OpenAI":
    search_box.send_keys(char)
    time.sleep(random.uniform(0.1, 0.3))
```

---

‚úÖ Resultado ‚ûú Parece m√°s humano:

- No es instant√°neo.
- Movimientos y pausas.
- Interacciones reales.

---

### ‚úÖ Extra: Evitar detecci√≥n anti-bot

Muchos sitios detectan **headless** o bots.
‚úîÔ∏è Soluci√≥n:

‚úÖ Usar perfil real de Chrome:

```python
from selenium.webdriver.chrome.options import Options

options = Options()
options.add_argument("user-data-dir=/ruta/a/tu/perfil")
driver = webdriver.Chrome(PATH, options=options)
```

---

‚úÖ Desactivar automation flags:

```python
options.add_experimental_option("excludeSwitches", ["enable-automation"])
options.add_experimental_option('useAutomationExtension', False)
```

---

‚úÖ Emular user-agent real:

```python
options.add_argument(
    "user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 ..."
)
```

---

‚úÖ Usar undetected_chromedriver:

‚úîÔ∏è Librer√≠a que modifica Selenium para evitar detecci√≥n:

```bash
pip install undetected-chromedriver
```

---

**C√≥digo ejemplo:**

```python
import undetected_chromedriver as uc

driver = uc.Chrome()
driver.get("https://www.google.com")
```

---

### ‚úÖ Ejemplo m√°s realista: Google Dork con pausa

‚úÖ Buscar "site:.gov filetype\:pdf password"

```python
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
import time, random

PATH = "/ruta/a/chromedriver"
driver = webdriver.Chrome(PATH)

driver.get("https://www.google.com")
time.sleep(random.uniform(2, 4))

search_box = driver.find_element(By.NAME, "q")

dork = 'site:.gov filetype:pdf password'
for char in dork:
    search_box.send_keys(char)
    time.sleep(random.uniform(0.1, 0.3))

search_box.send_keys(Keys.RETURN)
time.sleep(random.uniform(3, 6))

results = driver.find_elements(By.CSS_SELECTOR, "h3")
for result in results:
    print(result.text)

driver.quit()
```

---

‚úÖ **Emula:**

‚úîÔ∏è Esperar cargue.

‚úîÔ∏è Escribir letra por letra.

‚úîÔ∏è Scroll / pausa.

‚úîÔ∏è Click real.

‚úÖ ‚ûú Mucho m√°s humano.

---

### ‚úÖ Resumen de instalaci√≥n

| Paso                               | Comando                                                       |
| ---------------------------------- | ------------------------------------------------------------- |
| Instalar selenium                  | `pip install selenium`                                        |
| (Opcional) undetected_chromedriver | `pip install undetected-chromedriver`                         |
| Descargar driver                   | [ChromeDriver](https://sites.google.com/chromium.org/driver/) |

---

‚úÖ Archivo t√≠pico:

```
tu_script.py
chromedriver.exe (en ruta conocida)
```

---

‚úÖ Estructura proyecto:

```
mi-bot/
  ‚îú‚îÄ‚îÄ bot.py
  ‚îú‚îÄ‚îÄ chromedriver.exe
  ‚îî‚îÄ‚îÄ requirements.txt
```

---

‚úÖ requirements.txt:

```
selenium
undetected-chromedriver
```

---

### ‚úÖ Resumen pr√°ctico

‚≠ê Selenium ‚ûú automatiza navegador real.

‚≠ê Emular humano ‚ûú pausas, scroll, escritura lenta, hover.

‚≠ê Usos:

‚úîÔ∏è Scraping avanzado.

‚úîÔ∏è Login automation.

‚úîÔ∏è Evitar bloqueos anti-bot.

‚úîÔ∏è OSINT y recon.

---

‚úÖ **Instalaci√≥n m√≠nima:**

```bash
pip install selenium
```

‚úÖ **Driver:**

- Chrome ‚ûú [ChromeDriver](https://sites.google.com/chromium.org/driver/).

‚úÖ **C√≥digo ejemplo m√≠nimo:**

```python
from selenium import webdriver
driver = webdriver.Chrome("/ruta/a/chromedriver")
driver.get("https://www.google.com")
```

---

[üîº](#√≠ndice)

---

## **169. Hacking con buscadores autom√°tico con Selenium**

### ‚úÖ ¬øQu√© es "Hacking con buscadores"?

‚úîÔ∏è Tambi√©n conocido como **Google Hacking / Dorking**.

‚úÖ Consiste en usar operadores avanzados de b√∫squeda para encontrar informaci√≥n sensible o no intencionada p√∫blicamente expuesta.

‚úÖ Ejemplos de **Google Dorks**:

- `inurl:admin`
- `filetype:pdf confidential`
- `site:.gov intext:password`
- `"index of /" +backup`

‚úÖ Usos en hacking √©tico / OSINT:

- Encontrar paneles de administraci√≥n.
- Localizar documentos sensibles.
- Ver bases de datos expuestas.

---

### ‚úÖ ¬øPor qu√© hacerlo **autom√°tico**?

‚úÖ Hacer b√∫squedas manuales ‚ûú lento y limitado.

‚úÖ Automatizar con Selenium ‚ûú ventajas:

‚úîÔ∏è Ejecutar docenas o cientos de dorks.

‚úîÔ∏è Simular navegador humano.

‚úîÔ∏è Evitar algunos bloqueos b√°sicos anti-bot.

‚úîÔ∏è Extraer resultados en masa.

‚úîÔ∏è Filtrar y guardar resultados.

---

### ‚úÖ ¬øQu√© es **Selenium**?

‚≠ê Selenium es una librer√≠a de Python (y otros lenguajes) para **automatizar navegadores reales** (Chrome, Firefox, Edge...).

‚úîÔ∏è Abre el navegador.

‚úîÔ∏è Escribe en formularios.

‚úîÔ∏è Hace clics.

‚úîÔ∏è Lee contenido din√°mico (JavaScript).

‚úÖ Simula un **usuario real**.

---

‚úÖ Muy √∫til para **hacking √©tico / scraping avanzado**:

‚úîÔ∏è Evitar bloqueos por user-agent.

‚úîÔ∏è Renderizar contenido generado por JS.

‚úîÔ∏è Emular interacciones humanas.

---

### ‚úÖ Instalaci√≥n paso a paso

#### ‚úÖ A. Tener Python instalado

Verifica con:

```bash
python --version
```

---

#### ‚úÖ B. Crear entorno virtual (opcional, recomendado)

```bash
python -m venv venv
```

Activar:

- Windows:

```bash
venv\Scripts\activate
```

- macOS/Linux:

```bash
source venv/bin/activate
```

---

#### ‚úÖ C. Instalar Selenium

```bash
pip install selenium
```

---

#### ‚úÖ D. Descargar WebDriver

‚úîÔ∏è Para **Chrome**: [ChromeDriver](https://sites.google.com/chromium.org/driver/)

‚úîÔ∏è Para **Firefox**: [GeckoDriver](https://github.com/mozilla/geckodriver/releases)

‚úÖ Debe ser **compatible con tu versi√≥n de navegador**.

---

‚úÖ Ejemplo:

- Windows ‚ûú `chromedriver.exe` en `C:\webdriver\chromedriver.exe`
- Linux/Mac ‚ûú en `/usr/local/bin/chromedriver`

---

### ‚úÖ C√≥digo m√≠nimo: abrir Google

**Archivo:** `bot_basico.py`

```python
from selenium import webdriver

driver = webdriver.Chrome("/ruta/a/chromedriver")
driver.get("https://www.google.com")
```

‚úîÔ∏è Se abre Google en Chrome.

---

### ‚úÖ Automatizando b√∫squeda (hacking con buscadores)

‚úÖ Objetivo:

‚úîÔ∏è Abrir Google.

‚úîÔ∏è Escribir un **dork**.

‚úîÔ∏è Obtener resultados.

‚úîÔ∏è Imprimir t√≠tulos.

---

**‚úîÔ∏è Ejemplo sencillo**

```python
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
import time

PATH = "/ruta/a/chromedriver"
driver = webdriver.Chrome(PATH)

# Abrir Google
driver.get("https://www.google.com")
time.sleep(2)

# Buscar con dork
search_box = driver.find_element(By.NAME, "q")
dork = 'site:.gov filetype:pdf password'
search_box.send_keys(dork)
search_box.send_keys(Keys.RETURN)
time.sleep(3)

# Extraer resultados
results = driver.find_elements(By.CSS_SELECTOR, "h3")
for result in results:
    print(result.text)

driver.quit()
```

‚úÖ Salida (ejemplo):

```
Confidential PDF Document - gov
Password Policy.pdf - .gov site
...
```

---

### ‚úÖ Ejecutar m√∫ltiples dorks autom√°ticamente

‚úÖ Normalmente quieres **probar varios dorks**:

```
dorks.txt:
site:.gov filetype:pdf password
inurl:admin
intitle:"index of" backup
```

---

‚úÖ C√≥digo ejemplo: **leer archivo y buscar todos**

```python
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
import time, random

# Config
PATH = "/ruta/a/chromedriver"
driver = webdriver.Chrome(PATH)

with open("dorks.txt", "r", encoding="utf-8") as file:
    dorks = [line.strip() for line in file if line.strip()]

for dork in dorks:
    print(f"\nüîé Buscando: {dork}\n")
    driver.get("https://www.google.com")
    time.sleep(random.uniform(2, 4))

    search_box = driver.find_element(By.NAME, "q")
    for char in dork:
        search_box.send_keys(char)
        time.sleep(random.uniform(0.1, 0.3))  # Emula tipeo humano
    search_box.send_keys(Keys.RETURN)
    time.sleep(random.uniform(3, 6))

    results = driver.find_elements(By.CSS_SELECTOR, "h3")
    for result in results:
        print(result.text)

driver.quit()
```

---

‚úÖ Explicaci√≥n paso a paso:

‚úîÔ∏è Abre Google.

‚úîÔ∏è Toma **dork 1** del archivo.

‚úîÔ∏è Escribe letra por letra (emula humano).

‚úîÔ∏è Espera.

‚úîÔ∏è Obtiene resultados.

‚úîÔ∏è Repite con **dork 2**, **dork 3**...

---

### ‚úÖ Emulando **comportamiento humano**

‚úÖ Muy importante para evitar detecci√≥n anti-bot.

‚úÖ T√©cnicas:

‚úîÔ∏è Pausas aleatorias:

```python
time.sleep(random.uniform(2, 5))
```

‚úîÔ∏è Escritura lenta:

```python
for char in dork:
    search_box.send_keys(char)
    time.sleep(random.uniform(0.1, 0.3))
```

‚úîÔ∏è Scroll:

```python
driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")
```

‚úîÔ∏è Hover sobre elementos:

```python
from selenium.webdriver import ActionChains
actions = ActionChains(driver)
actions.move_to_element(result).perform()
```

---

‚úÖ Resultado:

‚úîÔ∏è M√°s lento, pero m√°s "humano".

‚úîÔ∏è Menos probable ser bloqueado por Google.

---

### ‚úÖ Guardar resultados en archivo

‚úÖ Agregar al script:

```python
with open("resultados.txt", "a", encoding="utf-8") as f:
    for result in results:
        f.write(f"{dork} => {result.text}\n")
```

‚úîÔ∏è Cada b√∫squeda se guarda en un archivo.

---

### ‚úÖ Evitar bloqueos (opcional avanzado)

‚úÖ Google puede detectar Selenium:

‚úîÔ∏è Usar **undetected_chromedriver**:

```bash
pip install undetected-chromedriver
```

‚úÖ C√≥digo:

```python
import undetected_chromedriver as uc

driver = uc.Chrome()
```

‚úÖ Funciona casi igual, pero evita detecci√≥n **automation flags**.

---

‚úÖ User-Agent personalizado:

```python
from selenium.webdriver.chrome.options import Options

options = Options()
options.add_argument(
    "user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36..."
)
driver = webdriver.Chrome(PATH, options=options)
```

---

‚úÖ Usar perfiles reales:

```python
options.add_argument("user-data-dir=/ruta/a/tu/perfil")
```

---

### ‚úÖ Resumen s√∫per corto

‚úÖ **Instalaci√≥n**:

```bash
pip install selenium
```

‚úÖ Descargar **ChromeDriver**.

‚úÖ **Script b√°sico**:

‚úîÔ∏è Abre Google.

‚úîÔ∏è Escribe dork.

‚úîÔ∏è Extrae resultados.

‚úÖ **Script avanzado**:

‚úîÔ∏è Lee lista de dorks.

‚úîÔ∏è Emula escritura humana.

‚úîÔ∏è Pausas aleatorias.

‚úîÔ∏è Guarda resultados.

---

### ‚úÖ Flujo t√≠pico para OSINT

1Ô∏è‚É£ Preparar archivo `dorks.txt` con tus queries.

2Ô∏è‚É£ Ejecutar script Selenium.

3Ô∏è‚É£ Emular pausas humanas.

4Ô∏è‚É£ Guardar resultados en archivo.

5Ô∏è‚É£ Filtrar con Regex o IA despu√©s.

---

### ‚úÖ Estructura recomendada de proyecto

```
hacking-buscadores/
  ‚îú‚îÄ‚îÄ bot.py
  ‚îú‚îÄ‚îÄ dorks.txt
  ‚îú‚îÄ‚îÄ resultados.txt
  ‚îî‚îÄ‚îÄ requirements.txt
```

‚úÖ `requirements.txt`:

```
selenium
undetected-chromedriver
```

---

### ‚úÖ ¬øQuieres m√°s avanzado?

‚≠ê Podemos agregar:

‚úîÔ∏è Scroll infinito (Google paginaci√≥n).

‚úîÔ∏è Login automatizado.

‚úîÔ∏è Headless (navegador oculto).

‚úîÔ∏è Integraci√≥n con GPT-4 para filtrar resultados.

‚úîÔ∏è Guardar en JSON o CSV.

‚úÖ ¬°Solo dime y te armo la gu√≠a paso a paso!

---

### üöÄ **Conclusi√≥n**

‚úÖ Hacking con buscadores **autom√°tico con Selenium** =

‚úîÔ∏è Buscar cientos de dorks.

‚úîÔ∏è Extraer resultados como humano.

‚úîÔ∏è Evitar bloqueos b√°sicos.

‚úîÔ∏è Guardar resultados para an√°lisis.

‚úÖ Selenium = herramienta clave para hacking √©tico, OSINT, scraping avanzado.

---

[üîº](#√≠ndice)

---

| **Inicio**         | **Siguiente 2**                                                           |
| ------------------ | ------------------------------------------------------------------------- |
| [üè†](../README.md) | [‚è©](./4_2_Investigacion_de_fuentes_abiertas_OSINT_con_Python_Hacking.md) |
